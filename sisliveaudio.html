<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SIS Live Audio üéôÔ∏è</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>

<!-- ===== AUTH SECTION ===== -->
<div class="section active" id="authSection">
    <div class="auth-container">

        <!-- LOGO SIS (microphone anim√©) -->
        <div class="auth-logo">
            <div class="logo-circle">
                <svg width="52" height="52" viewBox="0 0 24 24" fill="none">
                    <rect x="9" y="2" width="6" height="11" rx="3" fill="white"/>
                    <path d="M5 10a7 7 0 0 0 14 0" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    <line x1="12" y1="17" x2="12" y2="21" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    <line x1="8" y1="21" x2="16" y2="21" stroke="white" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </div>
            <div class="logo-waves">
                <span></span><span></span><span></span>
            </div>
        </div>

        <h1 class="auth-title">SIS Live Audio</h1>
        <p class="auth-subtitle">Plateforme audio live ¬∑ B√©nin üáßüáØ</p>

        <!-- TABS -->
        <div class="auth-tabs">
            <button class="auth-tab active" data-tab="login">Connexion</button>
            <button class="auth-tab" data-tab="register">Inscription</button>
        </div>

        <!-- LOGIN FORM -->
        <form class="auth-form" id="loginForm">
            <div class="input-group">
                <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/>
                </svg>
                <input type="email" class="auth-input" id="loginEmail" placeholder="Email" autocomplete="email">
            </div>
            <div class="input-group">
                <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
                <input type="password" class="auth-input" id="loginPassword" placeholder="Mot de passe" autocomplete="current-password">
            </div>
            <button type="submit" class="btn-primary">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/><polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/>
                </svg>
                Se connecter
            </button>
            <button type="button" class="btn-ghost" id="anonymousLoginBtn">
                üë§ Continuer en tant qu'invit√©
            </button>
        </form>

        <!-- REGISTER FORM -->
        <form class="auth-form hidden" id="registerForm">
            <div class="photo-upload-zone" id="photoUploadZone">
                <div class="photo-preview" id="photoPreview">
                    <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>
                    </svg>
                    <span>Photo</span>
                </div>
                <input type="file" id="photoInput" accept="image/*" hidden>
            </div>
            <div class="input-group">
                <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>
                </svg>
                <input type="text" class="auth-input" id="regName" placeholder="Nom complet" autocomplete="name">
            </div>
            <div class="input-group">
                <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/>
                </svg>
                <input type="email" class="auth-input" id="regEmail" placeholder="Email" autocomplete="email">
            </div>
            <div class="input-group">
                <svg class="input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
                <input type="password" class="auth-input" id="regPassword" placeholder="Mot de passe (6+)" autocomplete="new-password">
            </div>
            <button type="submit" class="btn-primary">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/>
                </svg>
                Cr√©er mon compte
            </button>
            <button type="button" class="btn-ghost" id="anonymousRegBtn">
                üë§ Continuer en tant qu'invit√©
            </button>
        </form>

        <div class="auth-error hidden" id="authError"></div>
    </div>
</div>

<!-- ===== EXPLORE SECTION ===== -->
<div class="section" id="exploreSection">
    <header class="app-header">
        <div class="header-brand">
            <div class="header-logo">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                    <rect x="9" y="2" width="6" height="11" rx="3" fill="currentColor"/>
                    <path d="M5 10a7 7 0 0 0 14 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="12" y1="17" x2="12" y2="21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <line x1="8" y1="21" x2="16" y2="21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </div>
            <span class="header-name">SIS Live</span>
        </div>
        <div class="header-actions">
            <button class="header-btn" id="themeToggle">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </button>
            <button class="header-btn pos-rel" id="notifBtn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                </svg>
                <span class="badge hidden" id="notifBadge">0</span>
            </button>
            <div class="user-avatar" id="userAvatar"></div>
            <button class="header-btn" id="logoutBtn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/>
                </svg>
            </button>
        </div>
    </header>

    <nav class="tabs-nav">
        <button class="tab active" data-tab="lives">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="3" fill="currentColor"/>
            </svg>
            Lives
        </button>
        <button class="tab" data-tab="stats">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/>
            </svg>
            Stats
        </button>
    </nav>

    <div class="content">
        <div class="pane active" id="livesPane">
            <div class="lives-grid" id="livesGrid"></div>
            <div class="empty-state hidden" id="emptyLives">
                <div class="empty-icon">üéôÔ∏è</div>
                <p>Aucun live en cours</p>
                <span>Sois le premier √† d√©marrer !</span>
            </div>
        </div>
        <div class="pane" id="statsPane">
            <div class="stats-cards">
                <div class="stat-card"><div class="stat-icon">üéôÔ∏è</div><div class="stat-value" id="statLives">0</div><div class="stat-label">Lives</div></div>
                <div class="stat-card"><div class="stat-icon">‚è±Ô∏è</div><div class="stat-value" id="statMinutes">0</div><div class="stat-label">Minutes</div></div>
                <div class="stat-card"><div class="stat-icon">üë•</div><div class="stat-value" id="statListeners">0</div><div class="stat-label">Auditeurs</div></div>
                <div class="stat-card"><div class="stat-icon">üí∞</div><div class="stat-value" id="statRevenue">0</div><div class="stat-label">FCFA</div></div>
            </div>
            <div class="charts">
                <div class="chart-card"><h3>√âvolution</h3><canvas id="evolutionChart"></canvas></div>
                <div class="chart-card"><h3>Cadeaux</h3><canvas id="giftsChart"></canvas></div>
            </div>
        </div>
    </div>

    <button class="fab" id="createLiveBtn" title="D√©marrer un live">
        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <rect x="9" y="2" width="6" height="11" rx="3"/><path d="M5 10a7 7 0 0 0 14 0"/><line x1="12" y1="17" x2="12" y2="21"/><line x1="8" y1="21" x2="16" y2="21"/>
        </svg>
    </button>
</div>

<!-- ===== LIVE ROOM SECTION ===== -->
<div class="section" id="liveRoomSection">
    <div class="live-header">
        <button class="btn-back" id="leaveLiveBtn">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <path d="M19 12H5M5 12l7 7M5 12l7-7"/>
            </svg>
        </button>
        <div class="live-info">
            <h2 id="liveTitle">Live Room</h2>
            <div class="live-meta">
                <span class="badge-live"><span class="live-dot"></span>EN DIRECT</span>
                <span class="live-listeners">üë• <span id="listenerCount">0</span></span>
                <span class="live-timer">‚è±Ô∏è <span id="liveTimer">00:00</span></span>
            </div>
        </div>
        <div class="live-header-actions">
            <button class="btn-icon" id="shareLiveBtn" title="Partager">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/>
                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                </svg>
            </button>
            <button class="btn-icon" id="menuBtn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="5" r="1.5" fill="currentColor"/><circle cx="12" cy="12" r="1.5" fill="currentColor"/><circle cx="12" cy="19" r="1.5" fill="currentColor"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Stage -->
    <div class="stage" id="stage"></div>

    <!-- Controls -->
    <div class="live-controls">
        <button class="ctrl-btn" id="muteBtn">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/>
            </svg>
            <span>Micro</span>
        </button>
        <button class="ctrl-btn ctrl-gift" id="sendGiftBtn">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 12 20 22 4 22 4 12"/><rect x="2" y="7" width="20" height="5"/><line x1="12" y1="22" x2="12" y2="7"/>
                <path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"/><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"/>
            </svg>
            <span>Cadeau</span>
        </button>
        <button class="ctrl-btn ctrl-hand" id="raiseHandBtn">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8"/>
                <path d="M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"/>
            </svg>
            <span>Main</span>
        </button>
        <button class="ctrl-btn ctrl-end" id="endLiveBtn">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/>
            </svg>
            <span>Quitter</span>
        </button>
    </div>

    <!-- Chat Area -->
    <div class="live-bottom">
        <div class="chat-tabs">
            <button class="chat-tab active" data-tab="chat">üí¨ Chat</button>
            <button class="chat-tab" data-tab="participants">üë• Participants</button>
        </div>
        <div class="tab-content">
            <div class="chat-pane active" id="chatPane">
                <div class="messages" id="messages"></div>
                <div class="reactions">
                    <button class="reaction-btn" data-emoji="üëè">üëè</button>
                    <button class="reaction-btn" data-emoji="‚ù§Ô∏è">‚ù§Ô∏è</button>
                    <button class="reaction-btn" data-emoji="üî•">üî•</button>
                    <button class="reaction-btn" data-emoji="üòÇ">üòÇ</button>
                </div>
                <div class="chat-input-wrapper">
                    <input type="text" class="chat-input" id="chatInput" placeholder="√âcrire un message..." maxlength="280">
                    <button class="btn-send" id="sendBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                            <line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="chat-pane" id="participantsPane">
                <div class="participants-list" id="participantsList"></div>
            </div>
        </div>
    </div>
</div>

<!-- ===== OVERLAYS ===== -->
<div id="modalsContainer"></div>
<div id="toastContainer"></div>
<div id="giftsAnimationContainer"></div>

<script type="module" src="script.js"></script>
</body>
</html>
