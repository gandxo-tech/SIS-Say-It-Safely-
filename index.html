<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="description" content="SIS vous permet de recevoir des messages et des confessions de manière totalement anonyme. Partagez votre lien unique avec vos amis, followers ou sur votre story pour qu'ils puissent vous envoyer des messages secrets.">
  <meta name="keywords" content="anonyme, chat anonyme, discussion privée, messages confidentiels, sécurisé, SIS, Say-It-Safely">
  <link rel="canonical" href="https://sis-say-it-safely-pi.vercel.app/">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0ea5e9">
  <title>SIS Say-It-Safely - Messages Anonymes</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');

    :root {
      --primary: #0ea5e9;
      --secondary: #0284c7;
      --accent: #38bdf8;
      --dark: #0c4a6e;
      --light-blue: #7dd3fc;
      --sky: #bae6fd;
      --glass: rgba(255, 255, 255, 0.1);
      --glass-border: rgba(255, 255, 255, 0.18);
      --success: #22d3ee;
      --text-light: #ffffff;
      --text-dark: #0c4a6e;
    }

    body.dark-mode {
      --primary: #1e3a8a;
      --secondary: #1e40af;
      --accent: #60a5fa;
      --dark: #0f172a;
      --light-blue: #3b82f6;
      --sky: #93c5fd;
      --text-light: #e0f7ff;
      --text-dark: #e0f7ff;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--dark) 100%);
      color: var(--text-light);
      min-height: 100vh;
      padding-top: 70px;
      padding-bottom: env(safe-area-inset-bottom);
      transition: background 0.3s ease;
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 50%, rgba(56, 189, 248, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(14, 165, 233, 0.15) 0%, transparent 50%);
      pointer-events: none;
      z-index: 0;
    }

    /* Navbar */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: var(--glass);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--glass-border);
      padding: 12px 20px;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: max(12px, env(safe-area-inset-top));
    }

    .logo {
      font-size: 24px;
      font-weight: 900;
      background: linear-gradient(135deg, var(--accent), var(--primary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .mode-toggle {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .switch {
      position: relative;
      width: 50px;
      height: 26px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--glass);
      border: 1px solid var(--glass-border);
      transition: 0.3s;
      border-radius: 26px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background: white;
      transition: 0.3s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background: var(--accent);
    }

    input:checked + .slider:before {
      transform: translateX(24px);
    }

    .hamburger {
      font-size: 28px;
      cursor: pointer;
      user-select: none;
      color: var(--text-light);
    }

    .nav-menu {
      position: fixed;
      top: 70px;
      left: 0;
      right: 0;
      background: var(--glass);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--glass-border);
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      z-index: 999;
    }

    .nav-menu.active {
      max-height: 500px;
    }

    .nav-menu a {
      display: block;
      padding: 16px 20px;
      color: var(--text-light);
      text-decoration: none;
      font-weight: 500;
      transition: background 0.2s;
      border-bottom: 1px solid var(--glass-border);
    }

    .nav-menu a:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    /* Container principal */
    .container {
      position: relative;
      z-index: 1;
      max-width: 500px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Hero section */
    .hero {
      text-align: center;
      margin-bottom: 32px;
      animation: fadeInUp 0.6s ease-out;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .sis-logo {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--accent), var(--primary));
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      margin: 0 auto 20px;
      box-shadow: 0 8px 32px rgba(14, 165, 233, 0.4);
      animation: logoFloat 3s ease-in-out infinite;
    }

    @keyframes logoFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .hero h1 {
      font-size: 48px;
      font-weight: 900;
      letter-spacing: 4px;
      margin-bottom: 12px;
      background: linear-gradient(135deg, var(--light-blue), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 20px rgba(56, 189, 248, 0.3);
    }

    .hero p {
      font-size: 16px;
      opacity: 0.9;
      line-height: 1.6;
      margin: 0 auto;
      max-width: 400px;
    }

    /* Card */
    .card {
      background: var(--glass);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 28px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      animation: fadeInUp 0.8s ease-out 0.2s both;
    }

    .card h2 {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 20px;
      text-align: center;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .input-field {
      width: 100%;
      padding: 16px 20px;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid var(--glass-border);
      border-radius: 16px;
      color: var(--text-light);
      font-size: 16px;
      font-family: inherit;
      transition: all 0.3s ease;
    }

    .input-field:focus {
      outline: none;
      background: rgba(255, 255, 255, 0.12);
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.1);
    }

    .input-field::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    .input-field[readonly] {
      opacity: 0.7;
      cursor: default;
    }

    .btn {
      width: 100%;
      padding: 16px;
      border: none;
      border-radius: 16px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: inherit;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--primary));
      color: white;
      box-shadow: 0 8px 24px rgba(14, 165, 233, 0.4);
    }

    .btn-primary:hover {
      box-shadow: 0 12px 32px rgba(14, 165, 233, 0.5);
      transform: translateY(-2px);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-secondary {
      background: var(--glass);
      color: var(--text-light);
      border: 1px solid var(--glass-border);
      margin-top: 12px;
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.15);
      transform: translateY(-2px);
    }

    /* Result section */
    .result-section {
      display: none;
      margin-top: 24px;
      animation: fadeInUp 0.4s ease-out;
    }

    .result-section.show {
      display: block;
    }

    .result-label {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 12px;
      text-align: center;
    }

    /* Share buttons grid */
    .share-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-top: 16px;
    }

    .share-btn {
      padding: 14px;
      border: none;
      border-radius: 16px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: inherit;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      color: white;
    }

    .share-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    .share-btn:active {
      transform: translateY(0);
    }

    .share-whatsapp {
      background: linear-gradient(135deg, #25D366, #128C7E);
    }

    .share-facebook {
      background: linear-gradient(135deg, #1877F2, #0C63D4);
    }

    .share-twitter {
      background: linear-gradient(135deg, #1DA1F2, #0C85D0);
    }

    .share-telegram {
      background: linear-gradient(135deg, #0088cc, #006699);
    }

    .share-instagram {
      background: linear-gradient(135deg, #E1306C, #C13584, #833AB4, #5851DB);
    }

    .share-snapchat {
      background: linear-gradient(135deg, #FFFC00, #FDD835);
      color: #000;
    }

    .share-messenger {
      background: linear-gradient(135deg, #00B2FF, #006AFF);
    }

    .share-tiktok {
      background: linear-gradient(135deg, #000000, #FE2C55);
    }

    .share-native {
      background: linear-gradient(135deg, var(--accent), var(--primary));
      grid-column: 1 / -1;
    }

    /* Info box */
    .info-box {
      background: linear-gradient(135deg, rgba(56, 189, 248, 0.15), rgba(14, 165, 233, 0.15));
      border: 1px solid rgba(56, 189, 248, 0.2);
      border-radius: 20px;
      padding: 20px;
      margin-top: 24px;
      text-align: center;
    }

    .info-box h3 {
      font-size: 18px;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .info-box p {
      font-size: 14px;
      line-height: 1.6;
      opacity: 0.9;
    }

    /* Footer */
    .footer {
      text-align: center;
      margin-top: 32px;
      padding: 20px;
      opacity: 0.7;
      font-size: 14px;
    }

    /* Install banner */
    .install-banner {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(135deg, var(--accent), var(--primary));
      color: white;
      padding: 16px 20px;
      display: none;
      align-items: center;
      justify-content: space-between;
      z-index: 1000;
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
      padding-bottom: max(16px, env(safe-area-inset-bottom));
    }

    .install-banner.show {
      display: flex;
    }

    .install-banner p {
      font-size: 14px;
      font-weight: 500;
    }

    .install-btn {
      background: white;
      color: var(--primary);
      border: none;
      padding: 10px 20px;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .install-btn:hover {
      transform: scale(1.05);
    }

    /* Responsive */
    @media (max-width: 600px) {
      .hero h1 {
        font-size: 36px;
        letter-spacing: 2px;
      }

      .sis-logo {
        width: 64px;
        height: 64px;
        font-size: 32px;
      }

      .card {
        padding: 20px;
      }

      .navbar {
        padding: 10px 16px;
      }

      .container {
        padding: 16px;
      }

      .share-grid {
        grid-template-columns: 1fr;
      }

      .share-native {
        grid-column: 1;
      }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">🛡️ SIS</div>
    <div class="nav-right">
      <div class="mode-toggle">
        <label class="switch">
          <input type="checkbox" id="modeToggle">
          <span class="slider"></span>
        </label>
      </div>
      <div class="hamburger" id="hamburger">☰</div>
    </div>
  </nav>

  <!-- Menu navigation -->
  <div class="nav-menu" id="navMenu">
    <a href="index.html">🏠 Accueil</a>
    <a href="envoyer.html">📤 Envoyer un message</a>
    <a href="voir.html">📬 Voir mes messages</a>
    <a href="chatanonyme.html">💬 Chat anonyme</a>
    <a href="avis.html">⭐ Donner un avis</a>
    <a href="politiques.html">🔒 Confidentialité</a>
    <a href="propos.html">ℹ️ À propos</a>
    <a href="conditions.html">📋 Conditions</a>
  </div>

  <!-- Container principal -->
  <div class="container">
    <!-- Hero section -->
    <div class="hero">
      <div class="sis-logo">🛡️</div>
      <h1>SIS</h1>
      <p>Reçois des messages totalement anonymes de tes amis</p>
    </div>

    <!-- Info box -->
    <div class="info-box">
      <h3>🤫 Comment ça marche ?</h3>
      <p>Crée ton lien unique, partage-le sur tes réseaux sociaux ou en story, et reçois des messages 100% anonymes. Personne ne saura qui t'a écrit !</p>
    </div>

    <!-- Card principale -->
    <div class="card">
      <h2>🫣 Crée ton lien anonyme</h2>

      <div class="form-group">
        <label class="form-label">Ton pseudo unique</label>
        <input type="text" class="input-field" id="pseudoInput" placeholder="Ex: Toné123">
      </div>

      <button class="btn btn-primary" id="generateBtn">
        ✨ Créer mon lien
      </button>

      <!-- Section résultat -->
      <div class="result-section" id="resultSection">
        <p class="result-label">🎉 Ton lien est prêt ! Partage-le maintenant :</p>

        <div class="form-group">
          <input type="text" class="input-field" id="linkOutput" readonly>
        </div>

        <button class="btn btn-secondary" id="copyBtn">
          📋 Copier le lien
        </button>

        <!-- Grille de partage -->
        <div class="share-grid">
          <button class="share-btn share-native" id="shareNative">
            📤 Partager
          </button>
          <button class="share-btn share-whatsapp" id="shareWhatsApp">
            📱 WhatsApp
          </button>
          <button class="share-btn share-facebook" id="shareFacebook">
            👍 Facebook
          </button>
          <button class="share-btn share-twitter" id="shareTwitter">
            🐦 Twitter
          </button>
          <button class="share-btn share-telegram" id="shareTelegram">
            ✈️ Telegram
          </button>
          <button class="share-btn share-instagram" id="shareInstagram">
            📸 Instagram
          </button>
          <button class="share-btn share-snapchat" id="shareSnapchat">
            👻 Snapchat
          </button>
          <button class="share-btn share-messenger" id="shareMessenger">
            💬 Messenger
          </button>
          <button class="share-btn share-tiktok" id="shareTikTok">
            🎵 TikTok
          </button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p><strong>SIS Say-It-Safely</strong></p>
      <p>© 2025 GBAGUIDI Exaucé - Tous droits réservés</p>
    </div>
  </div>

  <!-- Bannière d'installation -->
  <div class="install-banner" id="installBanner">
    <p>📲 Installe SIS sur ton écran d'accueil !</p>
    <button class="install-btn" id="installBtn">Installer</button>
  </div>

  <script>
    // Service Worker
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("sw.js")
        .then(() => console.log("Service Worker enregistré ✅"))
        .catch(err => console.error("Erreur SW:", err));
    }

    // PWA Installation
    let deferredPrompt;
    const installBanner = document.getElementById("installBanner");
    const installBtn = document.getElementById("installBtn");

    window.addEventListener("beforeinstallprompt", (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installBanner.classList.add("show");
    });

    installBtn.addEventListener("click", () => {
      installBanner.classList.remove("show");
      if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then((choiceResult) => {
          if (choiceResult.outcome === "accepted") {
            console.log("Installation acceptée ✅");
          }
          deferredPrompt = null;
        });
      }
    });

    window.addEventListener("appinstalled", () => {
      console.log("SIS installé 📲");
      installBanner.classList.remove("show");
    });

    // Mode sombre
    const modeToggle = document.getElementById("modeToggle");
    const body = document.body;

    const savedMode = localStorage.getItem("mode");
    if (savedMode === "dark") {
      body.classList.add("dark-mode");
      modeToggle.checked = true;
    }

    modeToggle.addEventListener("change", () => {
      if (modeToggle.checked) {
        body.classList.add("dark-mode");
        localStorage.setItem("mode", "dark");
      } else {
        body.classList.remove("dark-mode");
        localStorage.setItem("mode", "light");
      }
    });

    // Menu hamburger
    const hamburger = document.getElementById("hamburger");
    const navMenu = document.getElementById("navMenu");

    hamburger.addEventListener("click", () => {
      navMenu.classList.toggle("active");
    });

    // Génération du lien
    const generateBtn = document.getElementById("generateBtn");
    const pseudoInput = document.getElementById("pseudoInput");
    const resultSection = document.getElementById("resultSection");
    const linkOutput = document.getElementById("linkOutput");
    const copyBtn = document.getElementById("copyBtn");

    let generatedLink = "";

    generateBtn.addEventListener("click", () => {
      const pseudo = pseudoInput.value.trim();

      if (pseudo === "") {
        alert("⚠️ Entre un pseudo valide !");
        return;
      }

      const baseText = "Envoie moi un message anonyme avec SIS 🤫📨";
      const baseURL = "https://sis-send.vercel.app/index.html";
      generatedLink = `${baseText} ${baseURL}?to=${encodeURIComponent(pseudo)}`;

      linkOutput.value = generatedLink;
      resultSection.classList.add("show");

      // Scroll vers le résultat
      setTimeout(() => {
        resultSection.scrollIntoView({ behavior: "smooth", block: "nearest" });
      }, 100);
    });

    // Copier le lien
    copyBtn.addEventListener("click", () => {
      linkOutput.select();
      linkOutput.setSelectionRange(0, 99999);

      navigator.clipboard.writeText(linkOutput.value).then(() => {
        const originalText = copyBtn.textContent;
        copyBtn.textContent = "✅ Copié !";
        copyBtn.style.background = "linear-gradient(135deg, #22d3ee, #0891b2)";

        setTimeout(() => {
          copyBtn.textContent = originalText;
     copyBtn.style.background = "";
        }, 2000);
      }).catch(() => {
        alert("📋 Lien copié ! Partage-le avec tes amis 😉");
      });
    });

    // Partage natif
    const shareNative = document.getElementById("shareNative");
    shareNative.addEventListener("click", async () => {
      if (navigator.share) {
        try {
          await navigator.share({
            title: "SIS Say-It-Safely",
            text: generatedLink,
          })
        } catch (err) {
          console.log("Partage annulé");
        }
      } else {
        alert("📱 Utilise les boutons ci-dessous pour partager sur tes réseaux !");
      }
    });

    // WhatsApp
    const shareWhatsApp = document.getElementById("shareWhatsApp");
    shareWhatsApp.addEventListener("click", () => {
      const url = `https://wa.me/?text=${encodeURIComponent(generatedLink)}`;
      window.open(url, "_blank");
    });

    // Facebook
    const shareFacebook = document.getElementById("shareFacebook");
    shareFacebook.addEventListener("click", () => {
      const url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(generatedLink)}`;
      window.open(url, "_blank");
    });

    // Twitter
    const shareTwitter = document.getElementById("shareTwitter");
    shareTwitter.addEventListener("click", () => {
      const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(generatedLink)}`;
      window.open(url, "_blank");
    });

    // Telegram
    const shareTelegram = document.getElementById("shareTelegram");
    shareTelegram.addEventListener("click", () => {
      const url = `https://t.me/share/url?url=${encodeURIComponent(generatedLink)}`;
      window.open(url, "_blank");
    });

    // Instagram (copie le lien)
    const shareInstagram = document.getElementById("shareInstagram");
    shareInstagram.addEventListener("click", () => {
      navigator.clipboard.writeText(generatedLink);
      alert("📋 Lien copié ! Colle-le dans ta story Instagram 📸");
    });

    // Snapchat (copie le lien)
    const shareSnapchat = document.getElementById("shareSnapchat");
    shareSnapchat.addEventListener("click", () => {
      navigator.clipboard.writeText(generatedLink);
      alert("📋 Lien copié ! Colle-le dans ta story Snapchat 👻");
    });

    // Messenger
    const shareMessenger = document.getElementById("shareMessenger");
    shareMessenger.addEventListener("click", () => {
      const url = `fb-messenger://share/?link=${encodeURIComponent(generatedLink)}`;
      window.location.href = url;
      setTimeout(() => {
        alert("📱 Si Messenger ne s'ouvre pas, copie le lien et partage-le manuellement !");
      }, 1000);
    });

    // TikTok (copie le lien)
    const shareTikTok = document.getElementById("shareTikTok");
    shareTikTok.addEventListener("click", () => {
      navigator.clipboard.writeText(generatedLink);
      alert("📋 Lien copié ! Ajoute-le dans ta bio TikTok 🎵");
    });
  </script>
</body>
</html>