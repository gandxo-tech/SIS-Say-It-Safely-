<!DOCTYPE html>
<html lang="fr">
<head>
    <meta name="ppck-ver" content="204c08aa76393ae83ec5eebe573b079b" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#007bff">
    <title>SIS Anonyme</title>
    <style>
        /* VARIABLES CSS POUR LES MODES */
        :root {
            --body-bg: linear-gradient(135deg, #e0f0ff 0%, #7dd3fc 40%, #007bff 100%); /* Dégradé bleu clair à vif */
            --container-bg: linear-gradient(135deg, #ffffff 0%, #bfdbfe 80%, #93c5fd 100%); /* Dégradé blanc-bleu */
            --text-color: #1e3a8a; /* Bleu foncé pour texte */
            --accent-color: #007bff; /* Bleu principal */
            --accent-hover: #22d3ee; /* Cyan au survol */
            --input-bg: linear-gradient(135deg, #f8fbff 0%, #bae6fd 100%); /* Dégradé input bleu clair */
            --input-border: #7dd3fc; /* Bordure bleu cyan */
            --link-bg: linear-gradient(135deg, #e0f0ff 0%, #93c5fd 100%); /* Dégradé lien bleu */
            --button-bg: linear-gradient(45deg, #007bff 0%, #22d3ee 50%, #60a5fa 100%); /* Dégradé bleu-cyan */
            --title-bg: linear-gradient(45deg, #007bff 0%, #22d3ee 50%, #1e3a8a 100%); /* Dégradé SIS bleu */
        }

        body.dark-mode {
            --body-bg: linear-gradient(135deg, #172554 0%, #1e40af 40%, #1e3a8a 100%); /* Dégradé bleu sombre */
            --container-bg: linear-gradient(135deg, #1e3a8a 0%, #1e40af 80%, #172554 100%); /* Dégradé sombre */
            --text-color: #e0f7ff; /* Texte bleu clair */
            --accent-color: #60a5fa; /* Bleu clair pour mode sombre */
            --accent-hover: #22d3ee; /* Cyan au survol */
            --input-bg: linear-gradient(135deg, #172554 0%, #1e3a8a 100%); /* Dégradé input sombre */
            --input-border: #60a5fa; /* Bordure bleu clair */
            --link-bg: linear-gradient(135deg, #1e3a8a 0%, #172554 100%); /* Dégradé lien sombre */
            --button-bg: linear-gradient(45deg, #60a5fa 0%, #22d3ee 50%, #1e3a8a 100%); /* Dégradé bleu-cyan sombre */
            --title-bg: linear-gradient(45deg, #60a5fa 0%, #22d3ee 50%, #1e3a8a 100%); /* Dégradé SIS sombre */
        }

        /* Style de base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: var(--body-bg);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.5s ease;
        }

        /* Conteneur principal */
        .container {
            background: var(--container-bg);
            padding: 2rem;
            border-radius: 22px;
            width: 90%;
            max-width: 460px;
            text-align: center;
            transition: background 0.5s ease;
        }

        /* Titre SIS */
        .sis-title {
            font-size: 3rem;
            letter-spacing: 0.25rem;
            margin-bottom: 1.5rem;
            font-family: 'Inter', sans-serif;
            font-weight: 900;
            text-transform: uppercase;
            background: var(--title-bg);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            display: inline-block;
            text-shadow: 0 0 12px rgba(34, 211, 238, 0.6); /* Glow bleu cyan */
            animation: glow 3.5s ease-in-out infinite alternate, slideIn 1s ease-out;
        }

        @keyframes glow {
            0% { text-shadow: 0 0 12px rgba(34, 211, 238, 0.6); }
            100% { text-shadow: 0 0 18px rgba(96, 165, 250, 0.8); }
        }

        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .sis-title::after {
            content: '';
            width: 90px;
            height: 5px;
            background: var(--button-bg);
            position: absolute;
            bottom: -14px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .sis-title:hover::after {
            width: 130px;
        }

        /* Titre secondaire */
        h1 {
            font-size: 1.7rem;
            margin: 1.5rem 0;
            color: var(--accent-color);
            font-weight: 600;
            background: var(--button-bg);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Label */
        label {
            font-size: 1.1rem;
            color: var(--text-color);
            font-weight: 500;
            margin-bottom: 0.7rem;
            display: block;
        }

        /* Champ de saisie */
        input[type="text"] {
            width: 100%;
            padding: 14px;
            border-radius: 16px;
            border: 1px solid var(--input-border);
            background: var(--input-bg);
            color: var(--text-color);
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            transition: border-color 0.3s, background 0.3s, box-shadow 0.3s;
        }

        input[type="text"]:focus {
            border-color: var(--accent-color);
            outline: none;
            box-shadow: 0 0 10px rgba(34, 211, 238, 0.4);
        }

        /* Bouton */
        button {
            background: var(--button-bg);
            color: white;
            border: none;
            padding: 14px 20px;
            font-size: 1.1rem;
            border-radius: 16px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s, box-shadow 0.3s;
            width: 100%;
            box-shadow: 0 3px 10px rgba(34, 211, 238, 0.4);
        }

        button:hover {
            background: linear-gradient(45deg, var(--accent-hover), #007bff);
            box-shadow: 0 5px 15px rgba(34, 211, 238, 0.6);
        }

        /* Champ de lien généré */
        #linkOutput {
            background: var(--link-bg);
            color: var(--text-color);
            font-weight: 500;
            width: 100%;
            padding: 14px;
            margin-top: 0.7rem;
            border-radius: 16px;
            border: 1px solid var(--input-border);
            font-size: 1rem;
            transition: border-color 0.3s, background 0.3s, box-shadow 0.3s;
        }

        #linkOutput:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 10px rgba(34, 211, 238, 0.4);
        }

        /* Navbar */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.7rem 1.5rem;
            background: var(--container-bg);
            color: var(--accent-color);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
            border-bottom: 1px solid var(--input-border);
            box-shadow: 0 3px 10px rgba(34, 211, 238, 0.3);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--title-bg);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hamburger {
            font-size: 1.7rem;
            color: var(--accent-color);
            cursor: pointer;
            user-select: none;
            padding: 0.5rem;
        }

        .nav-links {
            list-style: none;
            display: none;
            flex-direction: column;
            background: var(--container-bg);
            width: 100%;
            position: absolute;
            top: 52px;
            left: 0;
            padding: 0.7rem;
            border-top: 1px solid var(--input-border);
        }

        .nav-links.active {
            display: flex;
        }

        .nav-links li {
            margin: 0.4rem 0;
        }

        .nav-links li a {
            display: block;
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 500;
            padding: 0.7rem 1.5rem;
            border-radius: 10px;
            transition: background 0.2s, color 0.2s;
        }

        .nav-links li a:hover {
            background: var(--button-bg);
            color: white;
        }

        /* Mode toggle */
        .mode-toggle {
            display: flex;
            align-items: center;
            margin-left: 0.7rem;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 22px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--input-border);
            transition: 0.3s;
            border-radius: 22px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 2px;
            bottom: 2px;
            background: white;
            transition: 0.3s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background: var(--button-bg);
        }

        input:checked + .slider:before {
            transform: translateX(22px);
        }

        .mode-label {
            color: var(--text-color);
            font-size: 0.9rem;
            margin: 0 0.5rem;
        }

        /* Bannière d'installation */
        .banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--button-bg);
            color: white;
            text-align: center;
            padding: 0.7rem;
            display: none;
            z-index: 9999;
            box-shadow: 0 -3px 10px rgba(34, 211, 238, 0.3);
        }

        .banner p {
            display: inline;
            margin: 0;
            font-size: 0.9rem;
        }

        #installBtn {
            margin-left: 0.7rem;
            padding: 0.5rem 1rem;
            background: var(--container-bg);
            color: var(--accent-color);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s, color 0.3s;
        }

        #installBtn:hover {
            background: var(--accent-hover);
            color: white;
        }

        /* Description */
        .description {
            font-size: 1rem;
            margin: 1.5rem 0;
            line-height: 1.6;
            color: var(--text-color);
        }

        /* Footer */
        .container p {
            font-size: 0.9rem;
            margin: 0.7rem 0 0;
            color: var(--text-color);
        }

        /* Responsivité */
        @media (min-width: 768px) {
            .hamburger {
                display: none;
            }
            .nav-links {
                display: flex;
                flex-direction: row;
                position: static;
                width: auto;
                border-top: none;
                padding: 0;
                background: none;
            }
            .nav-links li {
                margin: 0 0.6rem;
            }
        }

        @media (max-width: 600px) {
            .sis-title {
                font-size: 2.4rem;
            }
            h1 {
                font-size: 1.5rem;
            }
            input[type="text"], button, #linkOutput {
                font-size: 0.95rem;
                padding: 12px;
            }
            .mode-label {
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <!-- Bannière d'installation PWA -->
    <div id="installBanner" class="banner">
        <p>Installe SIS sur ton écran d'accueil !</p>
        <button id="installBtn">📲 Installer</button>
    </div>

    <nav class="navbar">
        <div class="logo">SIS</div>
        <div class="mode-toggle">
            <span class="mode-label">Clair</span>
            <label class="switch">
                <input type="checkbox" id="mode-toggle-checkbox">
                <span class="slider"></span>
            </label>
            <span class="mode-label">Sombre</span>
        </div>
        <div class="hamburger" id="hamburger">&#9776;</div>
        <ul class="nav-links" id="navLinks">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="envoyer.html">Envoyer un message</a></li>
            <li><a href="voir.html">Voir mes messages</a></li>
            <li><a href="chatanonyme.html">Chat</a></li>
            <li><a href="avis.html">Envoyez un avis</a></li>
            <li><a href="politiques.html">Politiques de confidentialité</a></li>
            <li><a href="propos.html">À propos</a></li>
            <li><a href="conditions.html">Conditions d'utilisation</a></li>
        </ul>
    </nav>

    <div class="container">
        <h1 class="sis-title">SIS</h1>
        <p class="description">
            <strong>SIS</strong> vous permet de recevoir des messages et des confessions de manière totalement anonyme. Partagez votre lien unique avec vos amis, followers ou sur votre story pour qu'ils puissent vous envoyer des messages secrets, sans que vous ne sachiez qui les a envoyés. C'est le moyen parfait pour écouter ce que les gens pensent vraiment, en toute discrétion !
        </p>
        <h1>🫣 Reçois des messages anonymes 🫣</h1>
        <label for="pseudo">Ton Pseudo unique :</label>
        <input type="text" id="pseudo" placeholder="Ex: #Toné123">
        <button id="generateLink">Créer mon lien anonyme</button>
        <div id="resultLink" style="display: none;">
            <p>Voici ton lien 👇</p>
            <input type="text" id="linkOutput" readonly>
            <button id="copyBtn">Copier le lien</button>
            <p><strong>SIS</strong></p>
            <p><strong>GBAGUIDI Exaucé</strong> Tous droits réservés ©2025</p>
        </div>
    </div>

    <script>
        let deferredPrompt;
        const installBanner = document.getElementById("installBanner");
        const installBtn = document.getElementById("installBtn");

        window.addEventListener("beforeinstallprompt", (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installBanner.style.display = "block";
        });

        if ("serviceWorker" in navigator) {
            navigator.serviceWorker.register("sw.js")
                .then(() => console.log("Service Worker enregistré ✅"))
                .catch(err => console.error("Erreur SW:", err));
        }

        installBtn.addEventListener("click", () => {
            installBanner.style.display = "none";
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === "accepted") {
                    console.log("Utilisateur a installé SIS ✅");
                } else {
                    console.log("Utilisateur a annulé l'installation ❌");
                }
                deferredPrompt = null;
            });
        });

        window.addEventListener("appinstalled", () => {
            console.log("SIS a été installé 📲🤩");
        });

        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('navLinks');
        const modeToggle = document.getElementById('mode-toggle-checkbox');
        const body = document.body;

        function applyMode(isDarkMode) {
            if (isDarkMode) {
                body.classList.add('dark-mode');
            } else {
                body.classList.remove('dark-mode');
            }
        }

        const savedMode = localStorage.getItem('mode');
        if (savedMode === 'dark') {
            modeToggle.checked = true;
            applyMode(true);
        }

        modeToggle.addEventListener('change', () => {
            if (modeToggle.checked) {
                localStorage.setItem('mode', 'dark');
                applyMode(true);
            } else {
                localStorage.setItem('mode', 'light');
                applyMode(false);
            }
        });

        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });

        document.getElementById("generateLink").addEventListener("click", () => {
            const pseudo = document.getElementById("pseudo").value.trim();
            if (pseudo === "") {
                alert("Entre un pseudo valide !");
                return;
            }
            const baseURL = "Envoie moi un message anonyme avec SIS 🤫📨 https://sis-send.vercel.app/index.html";
            const finalLink = `${baseURL}?to=${encodeURIComponent(pseudo)}`;
            document.getElementById("resultLink").style.display = "block";
            document.getElementById("linkOutput").value = finalLink;
        });

        document.getElementById("copyBtn").addEventListener("click", () => {
            const link = document.getElementById("linkOutput");
            link.select();
            link.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(link.value);
            alert("Lien copié 🤩💙 Envoie ton lien à tes ami(e)s 😉🫵");
        });
    </script>
</body>
</html>