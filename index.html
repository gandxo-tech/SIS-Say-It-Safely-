<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="SIS (Say It Safely) - Recevez des messages anonymes en toute sécurité. Plateforme de communication anonyme 100% gratuite et sécurisée. Créé par GBAGUIDI Exaucé (Gandxo).">
    <meta name="keywords" content="messages anonymes, réseau social anonyme, SIS, Say It Safely, communication anonyme, feedback anonyme, Gandxo, GBAGUIDI Exaucé">
    <meta name="author" content="GBAGUIDI Exaucé (Gandxo)">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://sis-say-it-safely-pi.vercel.app/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sis-say-it-safely-pi.vercel.app/">
    <meta property="og:title" content="SIS - Say It Safely | Messages Anonymes Sécurisés">
    <meta property="og:description" content="Recevez des messages 100% anonymes. Partagez votre lien et découvrez ce que les gens pensent vraiment. Sécurisé et gratuit.">
    <meta property="og:image" content="https://i.ibb.co/tGCTMvk/logo.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="SIS - Say It Safely">
    <meta property="og:locale" content="fr_FR">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://sis-say-it-safely-pi.vercel.app/">
    <meta name="twitter:title" content="SIS - Say It Safely | Messages Anonymes">
    <meta name="twitter:description" content="Recevez des messages 100% anonymes en toute sécurité. Gratuit et sécurisé.">
    <meta name="twitter:image" content="https://i.ibb.co/tGCTMvk/logo.png">
    <meta name="twitter:creator" content="@Gandxo">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="SIS">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="https://i.ibb.co/tGCTMvk/logo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://i.ibb.co/tGCTMvk/logo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://i.ibb.co/tGCTMvk/logo.png">
    <link rel="mask-icon" href="https://i.ibb.co/tGCTMvk/logo.png" color="#667eea">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "SIS - Say It Safely",
        "alternateName": "SIS",
        "url": "https://sis-say-it-safely-pi.vercel.app/",
        "logo": "https://i.ibb.co/tGCTMvk/logo.png",
        "description": "Plateforme de messages anonymes sécurisée permettant de recevoir des feedbacks honnêtes et anonymes",
        "applicationCategory": "SocialNetworkingApplication",
        "operatingSystem": "Web, iOS, Android",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "EUR"
        },
        "creator": {
            "@type": "Person",
            "name": "GBAGUIDI Exaucé",
            "alternateName": "Gandxo"
        },
        "inLanguage": "fr-FR",
        "browserRequirements": "Requires JavaScript. Requires HTML5.",
        "softwareVersion": "1.0.0",
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1250"
        }
    }
    </script>

    <title>SIS - Say It Safely | Messages Anonymes 100% Sécurisés | By Gandxo</title>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-97TCHJ33KW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-97TCHJ33KW', {
            'send_page_view': true,
            'anonymize_ip': true
        });
    </script>

    <style>
        /* ============================================
           VARIABLES & RESET
           ============================================ */
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --primary-color: #667eea;
            --primary-dark: #5a67d8;
            --secondary-color: #764ba2;
            --accent-color: #f093fb;
            
            --bg-primary: #ffffff;
            --bg-secondary: #f7fafc;
            --bg-tertiary: #edf2f7;
            
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-tertiary: #718096;
            
            --border-color: #e2e8f0;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.15);
            
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-secondary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        button {
            font-family: inherit;
            cursor: pointer;
            border: none;
            outline: none;
        }

        input, textarea {
            font-family: inherit;
            outline: none;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        /* ============================================
           SPLASH SCREEN
           ============================================ */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--primary-gradient);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            transition: opacity 0.5s, visibility 0.5s;
        }

        .splash-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .splash-logo {
            width: 120px;
            height: 120px;
            margin-bottom: 30px;
            animation: splashPulse 2s ease-in-out infinite;
        }

        @keyframes splashPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .splash-title {
            color: white;
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 10px;
            opacity: 0;
            animation: fadeInUp 1s ease 0.5s forwards;
        }

        .splash-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 18px;
            margin-bottom: 40px;
            opacity: 0;
            animation: fadeInUp 1s ease 0.8s forwards;
        }

        .splash-footer {
            position: absolute;
            bottom: 30px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            opacity: 0;
            animation: fadeIn 1s ease 1.5s forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ============================================
           ONBOARDING SCREEN
           ============================================ */
        .onboarding-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--primary-gradient);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
            transition: opacity 0.5s, visibility 0.5s;
        }

        .onboarding-screen.active {
            display: flex;
        }

        .onboarding-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .skip-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px 20px;
            border-radius: var(--radius-lg);
            font-weight: 500;
            backdrop-filter: blur(10px);
            transition: var(--transition);
            z-index: 10;
        }

        .skip-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .onboarding-slides {
            width: 100%;
            max-width: 500px;
            min-height: 500px;
            position: relative;
            overflow: visible;
        }

        .onboarding-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            min-height: 500px;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
        }

        .onboarding-slide.active {
            opacity: 1;
            transform: translateX(0);
            position: relative;
            pointer-events: auto;
        }

        .onboarding-slide.prev {
            transform: translateX(-100%);
        }

        .slide-content {
            text-align: center;
            color: white;
            padding: 20px;
            width: 100%;
        }

        .slide-logo {
            width: 100px;
            height: 100px;
            margin: 0 auto 20px;
        }

        .slide-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            color: white;
        }

        .slide-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .gradient-text {
            background: linear-gradient(to right, #fff, #f0f0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .slide-description {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .slide-illustration {
            width: 200px;
            height: 200px;
            margin: 30px auto;
        }

        .feature-preview {
            margin-top: 30px;
        }

        .feature-preview-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-lg);
            padding: 15px;
            margin-bottom: 10px;
            text-align: left;
        }

        .feature-preview-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .feature-preview-avatar {
            width: 40px;
            height: 40px;
            flex-shrink: 0;
        }

        .feature-preview-info {
            flex: 1;
        }

        .feature-preview-name {
            font-weight: 600;
            font-size: 14px;
        }

        .feature-preview-time {
            font-size: 12px;
            opacity: 0.8;
        }

        .feature-preview-text {
            font-size: 14px;
            line-height: 1.5;
        }

        .feature-list {
            margin-top: 30px;
        }

        .feature-list-item {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: var(--radius-lg);
            margin-bottom: 12px;
            text-align: left;
        }

        .feature-list-item svg {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
            color: white;
        }

        .feature-list-item span {
            font-size: 15px;
        }

        .slide-indicators {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin: 30px 0;
        }

        .indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            cursor: pointer;
            transition: var(--transition);
        }

        .indicator.active {
            width: 24px;
            border-radius: 4px;
            background: white;
        }

        .onboarding-nav {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .btn-prev, .btn-next, .btn-start {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: var(--radius-lg);
            font-weight: 600;
            transition: var(--transition);
        }

        .btn-prev {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .btn-prev:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(-3px);
        }

        .btn-next, .btn-start {
            background: white;
            color: var(--primary-color);
        }

        .btn-next:hover, .btn-start:hover {
            transform: translateX(3px);
            box-shadow: var(--shadow-lg);
        }

        .btn-prev svg, .btn-next svg, .btn-start svg {
            width: 20px;
            height: 20px;
        }

        /* ============================================
           AUTH CONTAINER
           ============================================ */
        .auth-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: var(--primary-gradient);
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
            z-index: 9999;
            transition: opacity 0.5s, visibility 0.5s;
        }

        .auth-container.active {
            display: flex;
        }

        .auth-container.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .auth-box {
            background: white;
            border-radius: var(--radius-xl);
            padding: 40px;
            width: 100%;
            max-width: 440px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .auth-logo {
            text-align: center;
            margin-bottom: 20px;
        }

        .auth-logo img {
            width: 80px;
            height: 80px;
        }

        .auth-title {
            text-align: center;
            font-size: 32px;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 5px;
        }

        .auth-subtitle {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 30px;
            font-size: 14px;
        }

        .auth-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            background: var(--bg-secondary);
            padding: 5px;
            border-radius: var(--radius-lg);
        }

        .auth-tab {
            flex: 1;
            padding: 12px;
            background: transparent;
            color: var(--text-secondary);
            border-radius: var(--radius-md);
            font-weight: 600;
            transition: var(--transition);
        }

        .auth-tab.active {
            background: white;
            color: var(--primary-color);
            box-shadow: var(--shadow-sm);
        }

        .register-method-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            background: var(--bg-secondary);
            padding: 5px;
            border-radius: var(--radius-lg);
        }

        .method-tab {
            flex: 1;
            padding: 10px;
            background: transparent;
            color: var(--text-secondary);
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 14px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .method-tab.active {
            background: white;
            color: var(--primary-color);
            box-shadow: var(--shadow-sm);
        }

        .auth-message {
            padding: 12px;
            border-radius: var(--radius-md);
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }

        .auth-message.show {
            display: block;
        }

        .error-message {
            background: #fee;
            color: #c33;
            border: 1px solid #fcc;
        }

        .success-message {
            background: #efe;
            color: #3c3;
            border: 1px solid #cfc;
        }

        .auth-form {
            display: none;
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .auth-form.active {
            display: block !important;
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }

        .form-group {
            display: block;
            width: 100%;
            margin-bottom: 20px;
            position: relative;
        }

        .form-label {
            display: block;
            width: 100%;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
            color: var(--text-primary);
        }

        .input-wrapper {
            display: block;
            width: 100%;
            position: relative;
            margin: 0;
        }

        .input-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            color: var(--text-tertiary);
            pointer-events: none;
            z-index: 2;
        }
.form-input {
            display: block;
            width: 100%;
            height: auto;
            min-height: 50px;
            padding: 14px 15px 14px 45px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: 15px;
            background: white;
            color: var(--text-primary);
            box-sizing: border-box;
            transition: var(--transition);
        }

        .form-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .phone-input-group {
            display: flex;
            gap: 10px;
        }

        .country-select {
            width: 120px;
            padding: 14px 10px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: 15px;
            background: white;
            color: var(--text-primary);
            transition: var(--transition);
        }

        .country-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .verification-section {
            margin-top: 20px;
            padding: 15px;
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
        }

        .verification-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .verification-code-input {
            width: 100%;
            padding: 14px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: 18px;
            text-align: center;
            letter-spacing: 8px;
            font-weight: 600;
        }

        .resend-timer {
            text-align: center;
            margin-top: 10px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .resend-link {
            color: var(--primary-color);
            font-weight: 600;
            cursor: pointer;
        }

        .resend-link:hover {
            text-decoration: underline;
        }

        .resend-link.disabled {
            color: var(--text-tertiary);
            cursor: not-allowed;
            pointer-events: none;
        }

        .username-preview {
            margin-top: 8px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        #previewPseudo {
            font-weight: 600;
            color: var(--primary-color);
        }

        .btn-submit {
            display: flex;
            width: 100%;
            padding: 14px;
            background: var(--primary-gradient);
            color: white;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 16px;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: var(--transition);
            margin-top: 25px;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-submit:active {
            transform: translateY(0);
        }

        .btn-submit:disabled {
            opacity: 0.7;
            pointer-events: none;
        }

        .btn-icon {
            width: 20px;
            height: 20px;
        }

        .auth-footer {
            display: block;
            text-align: center;
            margin-top: 20px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .auth-footer a {
            color: var(--primary-color);
            font-weight: 600;
        }

        .auth-footer a:hover {
            text-decoration: underline;
        }

        #recaptcha-container {
            display: flex;
            justify-content: center;
            margin: 15px 0;
        }

        /* ============================================
           DASHBOARD
           ============================================ */
        .dashboard-container {
            display: none;
            min-height: 100vh;
        }

        .dashboard-container.active {
            display: block;
        }

        .header {
            background: white;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-sm);
        }

        .header-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-img {
            width: 40px;
            height: 40px;
        }

        .logo-text {
            font-size: 24px;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .notification-btn {
            position: relative;
            width: 40px;
            height: 40px;
            background: transparent;
            color: var(--text-tertiary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .notification-btn:hover {
            background: var(--bg-secondary);
            color: var(--primary-color);
        }

        .notification-btn svg {
            width: 22px;
            height: 22px;
        }

        .notification-badge {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #ef4444;
            color: white;
            font-size: 10px;
            font-weight: 700;
            padding: 2px 5px;
            border-radius: 10px;
            min-width: 16px;
            text-align: center;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid var(--border-color);
            transition: var(--transition);
            object-fit: cover;
        }

        .user-avatar:hover {
            border-color: var(--primary-color);
            transform: scale(1.05);
        }

        .dashboard-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px 100px;
        }

        .welcome-section {
            margin-bottom: 40px;
        }

        .welcome-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .welcome-subtitle {
            font-size: 16px;
            color: var(--text-secondary);
        }

        .stats-section {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: white;
            border-radius: var(--radius-lg);
            padding: 25px;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary-gradient);
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            background: var(--primary-gradient);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .activity-section {
            background: white;
            border-radius: var(--radius-lg);
            padding: 30px;
            box-shadow: var(--shadow-sm);
            margin-bottom: 40px;
        }

        .section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }

        .quick-actions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .quick-action-card {
            background: white;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-lg);
            padding: 25px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            transition: var(--transition);
            cursor: pointer;
            text-decoration: none;
        }

        .quick-action-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }

        .quick-action-icon {
            width: 50px;
            height: 50px;
            background: var(--primary-gradient);
            color: white;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quick-action-icon svg {
            width: 24px;
            height: 24px;
        }

        .quick-action-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .quick-action-desc {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .quick-action-arrow {
            margin-left: auto;
            color: var(--text-tertiary);
        }

        .messages-section {
            background: white;
            border-radius: var(--radius-lg);
            padding: 30px;
            box-shadow: var(--shadow-sm);
            margin-bottom: 40px;
        }

        .view-all-link {
            color: var(--primary-color);
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
        }

        .view-all-link:hover {
            text-decoration: underline;
        }

        .messages-list {
            margin-top: 20px;
        }

        .message-preview-card {
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            padding: 15px;
            margin-bottom: 12px;
            transition: var(--transition);
            cursor: pointer;
        }

        .message-preview-card:hover {
            background: var(--bg-tertiary);
            transform: translateX(5px);
        }

        .message-preview-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .message-preview-avatar {
            width: 40px;
            height: 40px;
        }

        .message-preview-name {
            font-weight: 600;
            font-size: 14px;
        }

        .message-preview-time {
            font-size: 12px;
            color: var(--text-tertiary);
        }

        .message-preview-text {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-tertiary);
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .empty-state-text {
            font-size: 16px;
            margin-bottom: 20px;
        }

        .link-section {
            background: var(--primary-gradient);
            border-radius: var(--radius-lg);
            padding: 30px;
            color: white;
            margin-bottom: 40px;
        }

        .link-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .link-display {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: var(--radius-md);
            font-size: 14px;
            word-break: break-all;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .link-actions {
            display: flex;
            gap: 10px;
        }

        .btn-copy, .btn-share {
            flex: 1;
            background: white;
            color: var(--primary-color);
            padding: 12px;
            border-radius: var(--radius-md);
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: var(--transition);
        }

        .btn-copy:hover, .btn-share:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-copy svg, .btn-share svg {
            width: 18px;
            height: 18px;
        }

        .link-tip {
            margin-top: 15px;
            font-size: 13px;
            opacity: 0.9;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* ============================================
           BOTTOM NAVIGATION
           ============================================ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            border-top: 1px solid var(--border-color);
            padding: 10px 0;
            z-index: 100;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
        }

        .bottom-nav-inner {
            max-width: 600px;
            margin: 0 auto;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 8px 15px;
            color: var(--text-tertiary);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
        }

        .nav-item.active {
            color: var(--primary-color);
        }

        .nav-item:hover {
            color: var(--primary-color);
        }

        .nav-item svg {
            width: 24px;
            height: 24px;
        }

        .nav-label {
            font-size: 11px;
            font-weight: 600;
        }

        .nav-badge {
            position: absolute;
            top: 5px;
            right: 10px;
            background: #ef4444;
            color: white;
            font-size: 10px;
            font-weight: 700;
            padding: 2px 5px;
            border-radius: 10px;
            min-width: 16px;
            text-align: center;
        }

        /* ============================================
           FOOTER
           ============================================ */
        .footer {
            background: white;
            border-top: 1px solid var(--border-color);
            padding: 40px 20px 20px;
            margin-top: 60px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-creator {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .footer-creator strong {
            color: var(--primary-color);
            font-weight: 700;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .footer-link {
            color: var(--text-secondary);
            font-size: 14px;
            transition: var(--transition);
        }

        .footer-link:hover {
            color: var(--primary-color);
        }

        .footer-version {
            font-size: 12px;
            color: var(--text-tertiary);
        }

        /* ============================================
           SHARE MODAL
           ============================================ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-backdrop {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            position: relative;
            background: white;
            border-radius: var(--radius-xl);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            animation: slideUp 0.3s ease;
        }

        .modal-header {
            padding: 25px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .modal-close {
            width: 36px;
            height: 36px;
            background: var(--bg-secondary);
            color: var(--text-secondary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .modal-close:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .modal-close svg {
            width: 20px;
            height: 20px;
        }

        .modal-body {
            padding: 25px;
            max-height: calc(90vh - 100px);
            overflow-y: auto;
        }

        .share-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .share-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 20px;
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
            transition: var(--transition);
            cursor: pointer;
        }

        .share-option:hover {
            background: var(--bg-tertiary);
            transform: translateY(-3px);
        }

        .share-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .share-icon svg {
            width: 24px;
            height: 24px;
        }

        .share-icon.whatsapp { background: #25D366; }
        .share-icon.instagram { background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); }
        .share-icon.snapchat { background: #FFFC00; color: #000; }
        .share-icon.twitter { background: #1DA1F2; }
        .share-icon.facebook { background: #1877F2; }
        .share-icon.copy { background: var(--primary-gradient); }

        .share-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* ============================================
           TOAST NOTIFICATION
           ============================================ */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: white;
            padding: 15px 25px;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 10001;
            opacity: 0;
            transition: all 0.3s ease;
            max-width: 90%;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast-icon {
            width: 24px;
            height: 24px;
            color: #10b981;
            flex-shrink: 0;
        }

        .toast-message {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* ============================================
           OFFLINE BANNER
           ============================================ */
        .offline-banner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: #fbbf24;
            color: #78350f;
            padding: 10px 20px;
            text-align: center;
            font-size: 14px;
            font-weight: 600;
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .offline-banner.show {
            display: flex;
        }

        /* ============================================
           RESPONSIVE DESIGN
           ============================================ */
        @media (max-width: 768px) {
            .header-inner {
                padding: 12px 15px;
            }

            .logo-text {
                display: none;
            }

            .stats-section {
                grid-template-columns: 1fr;
            }

            .quick-actions-grid {
                grid-template-columns: 1fr;
            }

            .dashboard-content {
                padding: 20px 15px 100px;
            }

            .welcome-title {
                font-size: 24px;
            }

            .stat-value {
                font-size: 28px;
            }

            .share-options {
                grid-template-columns: repeat(2, 1fr);
            }

            .auth-box {
                padding: 30px 20px;
            }

            .onboarding-slides {
                min-height: 400px;
            }

            .onboarding-slide {
                min-height: 400px;
            }

            .slide-logo {
                width: 70px;
                height: 70px;
            }

            .slide-icon {
                width: 60px;
                height: 60px;
            }

            .slide-title {
                font-size: 22px;
            }
        }

        @media (max-width: 480px) {
            .splash-title {
                font-size: 28px;
            }

            .splash-subtitle {
                font-size: 16px;
            }

            .auth-title {
                font-size: 28px;
            }

            .modal-content {
                max-width: 100%;
                border-radius: var(--radius-lg);
            }

            .share-options {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
        }

        /* ============================================
           UTILITY CLASSES
           ============================================ */
        .hidden {
            display: none !important;
        }

        /* ============================================
           SCROLLBAR STYLING
           ============================================ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--text-tertiary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }

        /* ============================================
           ACCESSIBILITY
           ============================================ */
        *:focus-visible {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
        }

        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <!-- Offline Banner -->
    <div class="offline-banner" id="offlineBanner">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 20px; height: 20px;">
            <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z" stroke="currentColor" stroke-width="2"/>
            <line x1="12" y1="9" x2="12" y2="13" stroke="currentColor" stroke-width="2"/>
            <line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2"/>
        </svg>
        <span>Mode hors ligne - Certaines fonctionnalités sont limitées</span>
    </div>

    <!-- Splash Screen -->
    <div class="splash-screen" id="splashScreen">
        <img src="https://i.ibb.co/tGCTMvk/logo.png" alt="SIS Logo" class="splash-logo">
        <h1 class="splash-title">SIS</h1>
        <p class="splash-subtitle">Say It Safely</p>
        <div class="splash-footer">
            Created by <strong>GBAGUIDI Exaucé (Gandxo)</strong>
        </div>
    </div>

    <!-- Onboarding Screen -->
    <div class="onboarding-screen" id="onboardingScreen">
        <button class="skip-btn" id="skipBtn">Passer</button>
        
        <div class="onboarding-slides" id="onboardingSlides">
            <!-- Slide 1 - Bienvenue -->
            <div class="onboarding-slide active" data-slide="0">
                <div class="slide-content">
                    <img src="https://i.ibb.co/tGCTMvk/logo.png" alt="SIS Logo" class="slide-logo">
                    <h1 class="slide-title">Bienvenue sur <span class="gradient-text">SIS</span></h1>
                    <p class="slide-description">Say It Safely - Le réseau social où l'anonymat rencontre la liberté d'expression</p>
                    <div class="slide-illustration">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <circle cx="100" cy="100" r="80" fill="url(#grad1)" opacity="0.2"/>
                            <path d="M 60 80 Q 100 55, 140 80" stroke="url(#grad1)" stroke-width="6" fill="none" stroke-linecap="round"/>
                            <circle cx="70" cy="90" r="5" fill="url(#grad1)"/>
                            <circle cx="130" cy="90" r="5" fill="url(#grad1)"/>
                            <path d="M 60 130 Q 100 150, 140 130" stroke="url(#grad1)" stroke-width="6" fill="none" stroke-linecap="round"/>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Slide 2 - Messages Anonymes -->
            <div class="onboarding-slide" data-slide="1">
                <div class="slide-content">
                    <div class="slide-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22 2L11 13" stroke="currentColor" stroke-width="2"/>
                            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </div>
                    <h2 class="slide-title">Messages Anonymes</h2>
                    <p class="slide-description">Recevez des messages 100% anonymes. Partagez votre lien unique et découvrez ce que les gens pensent vraiment.</p>
                    <div class="feature-preview">
                        <div class="feature-preview-card">
                            <div class="feature-preview-header">
                                <div class="feature-preview-avatar">
                                    <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="20" cy="20" r="20" fill="#667eea"/>
                                        <text x="20" y="27" font-size="20" fill="white" text-anchor="middle" font-weight="bold">?</text>
                                    </svg>
                                </div>
                                <div class="feature-preview-info">
                                    <div class="feature-preview-name">Quelqu'un d'anonyme</div>
                                    <div class="feature-preview-time">Il y a 2 min</div>
                                </div>
                            </div>
                            <div class="feature-preview-text">Tu es vraiment génial(e) ! Continue comme ça 🔥✨</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 3 - Sécurité -->
            <div class="onboarding-slide" data-slide="2">
                <div class="slide-content">
                    <div class="slide-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </div>
                    <h2 class="slide-title">100% Sécurisé</h2>
                    <p class="slide-description">Vos données sont protégées. Nous ne vendons jamais vos informations et respectons votre vie privée.</p>
                    <div class="feature-list">
                        <div class="feature-list-item">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.7088 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18455 2.99721 7.13631 4.39828 5.49706C5.79935 3.85781 7.69279 2.71537 9.79619 2.24013C11.8996 1.7649 14.1003 1.98232 16.07 2.85999" stroke="currentColor" stroke-width="2"/>
                                <path d="M22 4L12 14.01L9 11.01" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span>Anonymat garanti à 100%</span>
                        </div>
                        <div class="feature-list-item">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.7088 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18455 2.99721 7.13631 4.39828 5.49706C5.79935 3.85781 7.69279 2.71537 9.79619 2.24013C11.8996 1.7649 14.1003 1.98232 16.07 2.85999" stroke="currentColor" stroke-width="2"/>
                                <path d="M22 4L12 14.01L9 11.01" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span>Protection des données</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 4 - Prêt -->
            <div class="onboarding-slide" data-slide="3">
                <div class="slide-content">
                    <div class="slide-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </div>
                    <h2 class="slide-title">Prêt à commencer ?</h2>
                    <p class="slide-description">Rejoignez des milliers d'utilisateurs qui s'expriment librement et en toute sécurité sur SIS</p>
                </div>
            </div>
        </div>

        <!-- Slide Indicators -->
        <div class="slide-indicators" id="slideIndicators">
            <span class="indicator active" data-slide="0"></span>
            <span class="indicator" data-slide="1"></span>
            <span class="indicator" data-slide="2"></span>
            <span class="indicator" data-slide="3"></span>
        </div>

        <!-- Navigation Buttons -->
        <div class="onboarding-nav">
            <button class="btn-prev" id="prevBtn" style="visibility: hidden;">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2"/>
                </svg>
                Précédent
            </button>
            <button class="btn-next" id="nextBtn">
                Suivant
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                </svg>
            </button>
            <button class="btn-start" id="startBtn" style="display: none;">
                Commencer
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Auth Container -->
    <div class="auth-container" id="authContainer">
        <div class="auth-box">
            <div class="auth-logo">
                <img src="https://i.ibb.co/tGCTMvk/logo.png" alt="SIS Logo">
            </div>

            <h1 class="auth-title">SIS</h1>
            <p class="auth-subtitle">Say It Safely</p>

            <div class="auth-tabs">
                <button class="auth-tab active" id="loginTab">Connexion</button>
                <button class="auth-tab" id="registerTab">Inscription</button>
            </div>

            <div id="authError" class="auth-message error-message"></div>
            <div id="authSuccess" class="auth-message success-message"></div>

            <!-- Login Form -->
            <form class="auth-form active" id="loginForm">
                <div class="form-group">
                    <label class="form-label">Email ou Téléphone</label>
                    <div class="input-wrapper">
                        <svg class="input-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20 4H4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4Z" stroke="currentColor" stroke-width="2"/>
                            <path d="M22 7L13.03 12.7C12.7213 12.8934 12.3643 12.996 12 12.996C11.6357 12.996 11.2787 12.8934 10.97 12.7L2 7" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <input type="text" class="form-input" id="loginEmail" placeholder="votre@email.com" required autocomplete="email">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Mot de passe</label>
                    <div class="input-wrapper">
                        <svg class="input-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 11H5C3.89543 11 3 11.8954 3 13V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V13C21 11.8954 20.1046 11 19 11Z" stroke="currentColor" stroke-width="2"/>
                            <path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <input type="password" class="form-input" id="loginPassword" placeholder="••••••••" required autocomplete="current-password">
                    </div>
                </div>
                <button type="submit" class="btn-submit" id="loginBtn">
                    <span class="btn-text">Se connecter</span>
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </button>
            </form>

            <!-- Register Form -->
            <form class="auth-form" id="registerForm">
                <div class="register-method-tabs">
                    <button type="button" class="method-tab active" data-method="email">
                        📧 Email
                    </button>
                    <button type="button" class="method-tab" data-method="phone">
                        📱 SMS
                    </button>
                </div>

                <!-- Email Registration -->
                <div id="emailRegister" class="register-method active">
                    <div class="form-group">
                        <label class="form-label">Pseudo</label>
                        <div class="input-wrapper">
                            <svg class="input-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2"/>
                                <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <input type="text" class="form-input" id="registerUsername" placeholder="Ex: johndoe" required autocomplete="username" maxlength="20">
                        </div>
                        <p class="username-preview">Votre lien : <span id="previewPseudo">@username</span></p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <div class="input-wrapper">
                            <svg class="input-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20 4H4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4Z" stroke="currentColor" stroke-width="2"/>
                                <path d="M22 7L13.03 12.7C12.7213 12.8934 12.3643 12.996 12 12.996C11.6357 12.996 11.2787 12.8934 10.97 12.7L2 7" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <input type="email" class="form-input" id="registerEmail" placeholder="votre@email.com" required autocomplete="email">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Mot de passe</label>
                        <div class="input-wrapper">
                            <svg class="input-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19 11H5C3.89543 11 3 11.8954 3 13V20C3 21.1046 3.89543 22 5 22H19C20.1046 22 21 21.1046 21 20V13C21 11.8954 20.1046 11 19 11Z" stroke="currentColor" stroke-width="2"/>
                                <path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <input type="password" class="form-input" id="registerPassword" placeholder="••••••••" required autocomplete="new-password" minlength="6">
                        </div>
                    </div>
                </div>

                <!-- Phone Registration -->
                <div id="phoneRegister" class="register-method" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Pseudo</label>
                        <div class="input-wrapper">
                            <svg class="input-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2"/>
                                <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <input type="text" class="form-input" id="registerUsernamePhone" placeholder="Ex: johndoe" maxlength="20">
                        </div>
                        <p class="username-preview">Votre lien : <span id="previewPseudoPhone">@username</span></p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Numéro de téléphone</label>
                        <div class="phone-input-group">
                            <select class="country-select" id="countryCode">
                                <option value="+33">🇫🇷 +33</option>
                                <option value="+229">🇧🇯 +229</option>
                                <option value="+1">🇺🇸 +1</option>
                                <option value="+44">🇬🇧 +44</option>
                                <option value="+225">🇨🇮 +225</option>
                            </select>
                            <input type="tel" class="form-input" id="phoneNumber" placeholder="612345678" style="flex: 1; padding-left: 15px;">
                        </div>
                    </div>

                    <div id="recaptcha-container"></div>

                    <div id="verificationSection" class="verification-section" style="display: none;">
                        <p class="verification-title">Code de vérification</p>
                        <input type="text" class="verification-code-input" id="verificationCode" placeholder="000000" maxlength="6">
                        <div class="resend-timer">
                            <span id="timerText">Renvoyer dans <span id="countdown">60</span>s</span>
                            <span id="resendLink" class="resend-link disabled">Renvoyer le code</span>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-submit" id="registerBtn">
                    <span class="btn-text">S'inscrire</span>
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </button>
            </form>

            <div class="auth-footer">
                <p>En continuant, vous acceptez nos <a href="conditions.html">Conditions</a> et <a href="politiques.html">Politiques</a></p>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div class="dashboard-container" id="dashboardContainer">
        <!-- Header -->
        <header class="header">
            <div class="header-inner">
                <div class="logo">
                    <img src="https://i.ibb.co/tGCTMvk/logo.png" alt="SIS Logo" class="logo-img">
                    <span class="logo-text">SIS</span>
                </div>

                <div class="header-right">
                    <button class="notification-btn" id="notificationBtn">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z" stroke="currentColor" stroke-width="2"/>
                            <path d="M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <span class="notification-badge" id="notificationBadge">0</span>
                    </button>
                    <img src="https://ui-avatars.com/api/?name=User&background=667eea&color=fff&size=128" alt="User Avatar" class="user-avatar" id="userAvatar">
                </div>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="dashboard-content">
            <!-- Welcome Section -->
            <section class="welcome-section">
                <h1 class="welcome-title">👋 Salut <span id="usernameDisplay">@user</span> !</h1>
                <p class="welcome-subtitle">Voici ce qui se passe aujourd'hui</p>
            </section>

            <!-- Stats Section -->
            <section class="stats-section">
                <div class="stat-card">
                    <div class="stat-icon">💬</div>
                    <div class="stat-value" id="totalMessages">0</div>
                    <div class="stat-label">Messages</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">👁️</div>
                    <div class="stat-value" id="totalViews">0</div>
                    <div class="stat-label">Vues</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">🔗</div>
                    <div class="stat-value">1</div>
                    <div class="stat-label">Lien actif</div>
                </div>
            </section>

            <!-- Activity Chart -->
            <section class="activity-section">
                <div class="section-header">
                    <h2 class="section-title">📊 Activité (7 derniers jours)</h2>
                </div>
                <div class="chart-container">
                    <canvas id="activityChart"></canvas>
                </div>
            </section>

            <!-- Quick Actions -->
            <section class="quick-actions-grid">
                <a href="voir.html" class="quick-action-card">
                    <div class="quick-action-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 20.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </div>
                    <div>
                        <h3 class="quick-action-title">💬 Voir Messages</h3>
                        <p class="quick-action-desc"><span id="newMessages">0</span> nouveaux</p>
                    </div>
                    <svg class="quick-action-arrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 20px; height: 20px;">
                        <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </a>

                <a href="chatanonyme.html" class="quick-action-card">
                    <div class="quick-action-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </div>
                    <div>
                        <h3 class="quick-action-title">💭 Chat Anonyme</h3>
                        <p class="quick-action-desc">En ligne</p>
                    </div>
                    <svg class="quick-action-arrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 20px; height: 20px;">
                        <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </a>

                <button class="quick-action-card" id="shareLinkBtn">
                    <div class="quick-action-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22 2L11 13" stroke="currentColor" stroke-width="2"/>
                            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </div>
                    <div>
                        <h3 class="quick-action-title">🔗 Mon Lien</h3>
                        <p class="quick-action-desc">Partager</p>
                    </div>
                    <svg class="quick-action-arrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 20px; height: 20px;">
                        <path d="M512H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>


<button class="quick-action-card" id="settingsBtn">
                <div class="quick-action-icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                        <path d="M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </div>
                <div>
                    <h3 class="quick-action-title">⚙️ Paramètres</h3>
                    <p class="quick-action-desc">Profil</p>
                </div>
                <svg class="quick-action-arrow" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="width: 20px; height: 20px;">
                    <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2"/>
                </svg>
            </button>
        </section>

        <!-- Recent Messages -->
        <section class="messages-section">
            <div class="section-header">
                <h2 class="section-title">📬 Messages récents</h2>
                <a href="voir.html" class="view-all-link">Voir tout →</a>
            </div>
            <div class="messages-list" id="recentMessagesList">
                <div class="empty-state">
                    <div class="empty-state-icon">📭</div>
                    <p class="empty-state-text">Aucun message pour le moment</p>
                </div>
            </div>
        </section>

        <!-- Link Section -->
        <section class="link-section">
            <h2 class="link-title">🔗 TON LIEN ANONYME</h2>
            <div class="link-display" id="userLinkDisplay">
                https://sis-send.vercel.app/send.html?to=username
            </div>
            <div class="link-actions">
                <button class="btn-copy" id="copyLinkBtn">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                        <path d="M5 15H4C3.46957 15 2.96086 14.7893 2.58579 14.4142C2.21071 14.0391 2 13.5304 2 13V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H13C13.5304 2 14.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V5" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    📋 Copier
                </button>
                <button class="btn-share" id="shareBtn">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="18" cy="5" r="3" stroke="currentColor" stroke-width="2"/>
                        <circle cx="6" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                        <circle cx="18" cy="19" r="3" stroke="currentColor" stroke-width="2"/>
                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49" stroke="currentColor" stroke-width="2"/>
                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    📤 Partager
                </button>
            </div>
            <p class="link-tip">
                💡 Partage ce lien pour recevoir des messages anonymes
            </p>
        </section>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="bottom-nav-inner">
            <div class="nav-item active" data-page="home">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span class="nav-label">Accueil</span>
            </div>
            <div class="nav-item" data-page="messages">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span class="nav-label">Messages</span>
                <span class="nav-badge" id="messagesBadge">0</span>
            </div>
            <div class="nav-item" data-page="chat">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 11.5C21.0034 12.8199 20.6951 14.1219 20.1 15.3C19.3944 16.7118 18.3098 17.8992 16.9674 18.7293C15.6251 19.5594 14.0782 19.9994 12.5 20C11.1801 20.0035 9.87812 19.6951 8.7 19.1L3 21L4.9 15.3C4.30493 14.1219 3.99656 12.8199 4 11.5C4.00061 9.92179 4.44061 8.37488 5.27072 7.03258C6.10083 5.69028 7.28825 4.6056 8.7 3.90003C9.87812 3.30496 11.1801 2.99659 12.5 3.00003H13C15.0843 3.11502 17.053 3.99479 18.5291 5.47089C20.0052 6.94699 20.885 8.91568 21 11V11.5Z" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span class="nav-label">Chat</span>
            </div>
            <div class="nav-item" data-page="feed">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
                    <path d="M3 9H21" stroke="currentColor" stroke-width="2"/>
                    <path d="M9 21V9" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span class="nav-label">Feed</span>
            </div>
            <div class="nav-item" data-page="settings">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                    <circle cx="19" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                    <circle cx="5" cy="12" r="1" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span class="nav-label">Plus</span>
            </div>
        </div>
    </nav>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p class="footer-creator">Made with ❤️ by <strong>GBAGUIDI Exaucé (Gandxo)</strong></p>
            <div class="footer-links">
                <a href="about.html" class="footer-link">À propos</a>
                <a href="conditions.html" class="footer-link">Conditions</a>
                <a href="politiques.html" class="footer-link">Confidentialité</a>
            </div>
            <p class="footer-version">SIS v1.0.0 - 2025</p>
        </div>
    </footer>
</div>

<!-- Share Modal -->
<div class="modal" id="shareModal">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title">Partager mon lien</h2>
            <button class="modal-close" id="closeShareModal">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2"/>
                </svg>
            </button>
        </div>
        <div class="modal-body">
            <div class="share-options">
                <div class="share-option" data-platform="whatsapp">
                    <div class="share-icon whatsapp">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                        </svg>
                    </div>
                    <span class="share-label">WhatsApp</span>
                </div>
                <div class="share-option" data-platform="instagram">
                    <div class="share-icon instagram">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                        </svg>
                    </div>
                    <span class="share-label">Instagram</span>
                </div>
                <div class="share-option" data-platform="snapchat">
                    <div class="share-icon snapchat">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M5.829 4.533c-.6 1.344-.363 3.752-.267 5.436-.648.359-1.48-.271-1.951-.271-.49 0-1.075.322-1.167.802-.066.346.089.85 1.201 1.289.43.17 1.453.37 1.69.928.333.784-1.71 4.403-4.918 4.931-.251.041-.43.265-.416.519.056.975 2.242 1.357 3.211 1.507.099.134.179.7.306 1.131.057.193.204.424.582.424.493 0 1.312-.38 2.738-.144 1.398.233 2.712 2.215 5.235 2.215 2.345 0 3.744-1.991 5.09-2.215.779-.129 1.448-.088 2.196.058.515.101.977.157 1.124-.349.129-.437.208-.992.305-1.123.96-.149 3.156-.53 3.211-1.505.014-.254-.165-.477-.416-.519-3.154-.52-5.259-4.128-4.918-4.931.236-.557 1.252-.755 1.69-.928.814-.321 1.222-.716 1.213-1.173-.011-.585-.715-.934-1.233-.934-.527 0-1.284.624-1.897.286.096-1.698.332-4.095-.267-5.438-1.135-2.544-3.66-3.829-6.184-3.829-2.508 0-5.014 1.268-6.158 3.833z"/>
                        </svg>
                    </div>
                    <span class="share-label">Snapchat</span>
                </div>
                <div class="share-option" data-platform="twitter">
                    <div class="share-icon twitter">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                        </svg>
                    </div>
                    <span class="share-label">Twitter</span>
                </div>
                <div class="share-option" data-platform="facebook">
                    <div class="share-icon facebook">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                        </svg>
                    </div>
                    <span class="share-label">Facebook</span>
                </div>
                <div class="share-option" data-platform="copy">
                    <div class="share-icon copy">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                            <path d="M5 15H4C3.46957 15 2.96086 14.7893 2.58579 14.4142C2.21071 14.0391 2 13.5304 2 13V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H13C13.5304 214.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V5" stroke="currentColor" stroke-width="2"/>


Copier





<!-- Toast Notification -->
<div class="toast" id="toast">
    <svg class="toast-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.7088 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18455 2.99721 7.13631 4.39828 5.49706C5.79935 3.85781 7.69279 2.71537 9.79619 2.24013C11.8996 1.7649 14.1003 1.98232 16.07 2.85999" stroke="currentColor" stroke-width="2"/>
        <path d="M22 4L12 14.01L9 11.01" stroke="currentColor" stroke-width="2"/>
    </svg>
    <span class="toast-message" id="toastMessage">Action réussie !</span>
</div>

<!-- Chart.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>

<!-- Firebase SDK -->
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile, RecaptchaVerifier, signInWithPhoneNumber } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
    import { getFirestore, collection, query, where, getDocs, doc, setDoc, updateDoc, getDoc, orderBy, limit, Timestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
    import { getDatabase, ref as dbRef, set, update, onDisconnect, get } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    const firebaseConfig = {
        apiKey: "AIzaSyBqk3L_qkolD41H3yvHEzz4O-Sr15I-Tko",
        authDomain: "gandxoanonymous.firebaseapp.com",
        projectId: "gandxoanonymous",
        storageBucket: "gandxoanonymous.appspot.com",
        messagingSenderId: "836606625364",
        appId: "1:836606625364:web:7150571998131c41c0cfc1",
        measurementId: "G-97TCHJ33KW",
        databaseURL: "https://gandxoanonymous-default-rtdb.firebaseio.com"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const rtdb = getDatabase(app);

    let currentUser = null;
    let currentUserData = null;
    let currentSlide = 0;
    let activityChart = null;
    let cacheManager = new CacheManager();
    let recaptchaVerifier = null;
    let confirmationResult = null;
    let resendTimer = null;

    // Blacklist usernames
    const BLACKLIST = ['admin', 'system', 'support', 'sis', 'anonymous', 'gandxo', 'root', 'moderator'];

    // ===== CACHE MANAGER =====
    class CacheManager {
        constructor() {
            this.cache = new Map();
            this.ttl = {
                messages: 2 * 60 * 1000, // 2 minutes
                users: 10 * 60 * 1000,   // 10 minutes
                stats: 30 * 60 * 1000    // 30 minutes
            };
        }

        async get(key, fetchFn, category = 'messages') {
            const cached = this.cache.get(key);
            const now = Date.now();

            if (cached && (now - cached.timestamp) < this.ttl[category]) {
                console.log('📦 Cache HIT:', key);
                return cached.data;
            }

            console.log('🔄 Cache MISS:', key);
            const data = await fetchFn();
            this.cache.set(key, { data, timestamp: now });
            return data;
        }

        clear() {
            this.cache.clear();
        }
    }

    // ===== UTILITY FUNCTIONS =====
    function sanitizeInput(input) {
        if (!input) return '';
        const div = document.createElement('div');
        div.textContent = input;
        return div.innerHTML;
    }

    function getTimeAgo(timestamp) {
        const now = new Date();
        let then;

        if (timestamp?.toDate) {
            then = timestamp.toDate(); // Firestore Timestamp
        } else if (typeof timestamp === 'string') {
            then = new Date(timestamp); // ISO String
        } else if (timestamp instanceof Date) {
            then = timestamp;
        } else {
            return 'Date inconnue';
        }

        const seconds = Math.floor((now - then) / 1000);

        if (seconds < 60) return 'Il y a quelques secondes';
        if (seconds < 3600) return `Il y a ${Math.floor(seconds / 60)} min`;
        if (seconds < 86400) return `Il y a ${Math.floor(seconds / 3600)}h`;
        return `Il y a ${Math.floor(seconds / 86400)} jours`;
    }

    function showToast(message, duration = 3000) {
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toastMessage');

        if (!toast || !toastMessage) return;

        toastMessage.textContent = sanitizeInput(message);
        toast.classList.add('show');

        // Analytics
        gtag('event', 'toast_shown', { message });

        setTimeout(() => {
            toast.classList.remove('show');
        }, duration);
    }

    function hideAllScreens() {
        const screens = [
            document.getElementById('splashScreen'),
            document.getElementById('onboardingScreen'),
            document.getElementById('authContainer'),
            document.getElementById('dashboardContainer')
        ];

        screens.forEach(screen => {
            if (screen) {
                screen.style.display = 'none';
                screen.classList.remove('active');
                screen.classList.add('hidden');
            }
        });
    }

    // ===== SPLASH SCREEN =====
    function showSplashScreen() {
        const splash = document.getElementById('splashScreen');
        if (splash) {
            splash.style.display = 'flex';
            splash.classList.remove('hidden');

            setTimeout(() => {
                splash.classList.add('hidden');

                const onboardingDone = localStorage.getItem('onboardingCompleted');
                if (onboardingDone === 'true') {
                    // Skip to auth if returning user
                } else {
                    showOnboarding();
                }
            }, 2500);
        }
    }

    // ===== ONBOARDING =====
    function showOnboarding() {
        console.log('📱 Showing onboarding');
        hideAllScreens();

        const onboarding = document.getElementById('onboardingScreen');
        if (onboarding) {
            onboarding.style.display = 'flex';
            onboarding.classList.remove('hidden');
            onboarding.classList.add('active');
        }

        currentSlide = 0;
        updateSlide(0);

        // Analytics
        gtag('event', 'onboarding_start');
    }

    function updateSlide(index) {
        currentSlide = index;
        const slides = document.querySelectorAll('.onboarding-slide');
        const indicators = document.querySelectorAll('.indicator');

        slides.forEach((slide, i) => {
            if (i === index) {
                slide.classList.add('active');
                slide.classList.remove('prev');
            } else {
                slide.classList.remove('active');
                if (i < index) {
                    slide.classList.add('prev');
                } else {
                    slide.classList.remove('prev');
                }
            }
        });

        indicators.forEach((indicator, i) => {
            if (i === index) {
                indicator.classList.add('active');
            } else {
                indicator.classList.remove('active');
            }
        });

        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const startBtn = document.getElementById('startBtn');

        if (prevBtn) {
            prevBtn.style.visibility = index === 0 ? 'hidden' : 'visible';
        }

        if (index === slides.length - 1) {
            if (nextBtn) nextBtn.style.display = 'none';
            if (startBtn) startBtn.style.display = 'flex';
        } else {
            if (nextBtn) nextBtn.style.display = 'flex';
            if (startBtn) startBtn.style.display = 'none';
        }

        // Analytics
        gtag('event', 'onboarding_slide', { slide_number: index });
    }

    function completeOnboarding() {
        localStorage.setItem('onboardingCompleted', 'true');
        localStorage.setItem('onboardingCompletedTime', Date.now().toString());

        // Analytics
        gtag('event', 'onboarding_complete');

        showAuth();
    }

    // ===== AUTH =====
    function showAuth() {
        console.log('🔐 Showing auth');
        hideAllScreens();

        const authContainer = document.getElementById('authContainer');
        if (authContainer) {
            authContainer.style.display = 'flex';
            authContainer.classList.remove('hidden');
            authContainer.classList.add('active');
        }

        switchAuthTab('login');
    }

    function switchAuthTab(tab) {
        hideMessages();

        const loginTab = document.getElementById('loginTab');
        const registerTab = document.getElementById('registerTab');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');

        if (tab === 'login') {
            if (loginTab) loginTab.classList.add('active');
            if (registerTab) registerTab.classList.remove('active');

            if (loginForm) {
                loginForm.style.display = 'block';
                loginForm.classList.add('active');
            }
            if (registerForm) {
                registerForm.style.display = 'none';
                registerForm.classList.remove('active');
            }
        } else if (tab === 'register') {
            if (registerTab) registerTab.classList.add('active');
            if (loginTab) loginTab.classList.remove('active');

            if (registerForm) {
                registerForm.style.display = 'block';
                registerForm.classList.add('active');
            }
            if (loginForm) {
                loginForm.style.display = 'none';
                loginForm.classList.remove('active');
            }
        }

        // Analytics
        gtag('event', 'auth_tab_switch', { tab });
    }

    function switchRegisterMethod(method) {
        const emailRegister = document.getElementById('emailRegister');
        const phoneRegister = document.getElementById('phoneRegister');
        const methodTabs = document.querySelectorAll('.method-tab');

        methodTabs.forEach(tab => {
            if (tab.dataset.method === method) {
                tab.classList.add('active');
            } else {
                tab.classList.remove('active');
            }
        });

        if (method === 'email') {
            if (emailRegister) {
                emailRegister.style.display = 'block';
                emailRegister.classList.add('active');
            }
            if (phoneRegister) {
                phoneRegister.style.display = 'none';
                phoneRegister.classList.remove('active');
            }
        } else if (method === 'phone') {
            if (emailRegister) {
                emailRegister.style.display = 'none';
                emailRegister.classList.remove('active');
            }
            if (phoneRegister) {
                phoneRegister.style.display = 'block';
                phoneRegister.classList.add('active');
            }

            // Initialize reCAPTCHA
            setTimeout(() => {
                if (!recaptchaVerifier && document.getElementById('recaptcha-container')) {
                    try {
                        recaptchaVerifier = new RecaptchaVerifier(auth, 'recaptcha-container', {
                            'size': 'invisible',
                            'callback': () => console.log('reCAPTCHA OK')
                        });
                    } catch(e) {
                        console.error('reCAPTCHA error:', e);
                        showError('Erreur reCAPTCHA');
                    }
                }
            }, 300);
        }

        // Analytics
        gtag('event', 'register_method_switch', { method });
    }

    function showError(message) {
        const authError = document.getElementById('authError');
        const authSuccess = document.getElementById('authSuccess');

        if (authError) {
            authError.textContent = sanitizeInput(message);
            authError.classList.add('show');
            authError.style.display = 'block';
        }
        if (authSuccess) {
            authSuccess.classList.remove('show');
            authSuccess.style.display = 'none';
        }
    }

    function showSuccess(message) {
        const authSuccess = document.getElementById('authSuccess');
        const authError = document.getElementById('authError');

        if (authSuccess) {
            authSuccess.textContent = sanitizeInput(message);
            authSuccess.classList.add('show');
            authSuccess.style.display = 'block';
        }
        if (authError) {
            authError.classList.remove('show');
            authError.style.display = 'none';
        }
    }

    function hideMessages() {
        const authError = document.getElementById('authError');
        const authSuccess = document.getElementById('authSuccess');

        if (authError) {
            authError.classList.remove('show');
            authError.style.display = 'none';
            authError.textContent = '';
        }
        if (authSuccess) {
            authSuccess.classList.remove('show');
            authSuccess.style.display = 'none';
            authSuccess.textContent = '';
        }
    }

    async function checkUsernameExists(username) {
        try {
            const usernameDoc = await getDoc(doc(db, 'usernames', username));
            return usernameDoc.exists();
        } catch (error) {
            console.error('Username check error:', error);
            try {
                const q = query(collection(db, 'users'), where('username', '==', username));
                const snapshot = await getDocs(q);
                return !snapshot.empty;
            } catch (fallbackError) {
                console.error('Fallback error:', fallbackError);
                return false;
            }
        }
    }

    async function handleEmailRegister(e) {
        e.preventDefault();
        hideMessages();

        const username = document.getElementById('registerUsername')?.value?.trim().toLowerCase() || '';
        const email = document.getElementById('registerEmail')?.value?.trim() || '';
        const password = document.getElementById('registerPassword')?.value || '';

        console.log('📝 Email Register:', username, email);

        if (!username || !email || !password) {
            showError('Veuillez remplir tous les champs');
            return;
        }

        if (!/^[a-zA-Z0-9_]{3,20}$/.test(username)) {
            showError('Pseudo invalide (3-20 caractères, lettres/chiffres/_)');
            return;
        }

        if (/__/.test(username) || username.startsWith('_') || username.endsWith('_')) {
            showError('Pseudo invalide (pas de __ consécutifs, ni _ au début/fin)');
            return;
        }

        if (BLACKLIST.includes(username)) {
            showError('Ce pseudo est réservé');
            return;
        }

        if (password.length < 6) {
            showError('Mot de passe trop court (min 6)');
            return;
        }

        const registerBtn = document.getElementById('registerBtn');
        const originalBtn = registerBtn ? registerBtn.innerHTML : '';

        if (registerBtn) {
            registerBtn.disabled = true;
            registerBtn.innerHTML = '<span class="btn-text">Inscription...</span>';
        }

        try {
            console.log('🔍 Checking username...');
            const usernameExists = await checkUsernameExists(username);

            if (usernameExists) {
                showError('Ce pseudo est déjà utilisé');
                if (registerBtn) {
                    registerBtn.disabled = false;
                    registerBtn.innerHTML = originalBtn;
                }
                return;
            }

            console.log('👤 Creating user...');
            const userCredential = await createUserWithEmailAndPassword(auth, email, password);
            const user = userCredential.user;

            console.log('✅ User created:', user.uid);

            const timestamp = new Date().toISOString();
            const link = `https://sis-send.vercel.app/send.html?to=${username}`;
            const defaultPhotoURL = `https://ui-avatars.com/api/?name=${username}&background=667eea&color=fff&size=200`;

            await updateProfile(user, {
                displayName: username,
                photoURL: defaultPhotoURL
            });

            const userData = {
                uid: user.uid,
                username: username,
                email: email,
                photoURL: defaultPhotoURL,
                createdAt: timestamp,
                updatedAt: timestamp,
                link: link,
                messageCount: 0,
                viewCount: 0
            };

            // Save to Firestore (background)
            setDoc(doc(db, 'users', user.uid), userData).catch(err => console.log('Firestore error:', err));
            setDoc(doc(db, 'usernames', username), {
                uid: user.uid,
                createdAt: timestamp
            }).catch(err => console.log('Username error:', err));

            // Save to RTDB (background)
            set(dbRef(rtdb, `users/${user.uid}`), {
                uid: user.uid,
                username: username,
                email: email,
                photoURL: defaultPhotoURL,
                createdAt: timestamp,
                link: link,
                online: true
            }).catch(err => console.log('RTDB error:', err));

            console.log('✅ Registration complete!');
            showSuccess('Inscription réussie ! Redirection...');

            // Analytics
            gtag('event', 'sign_up', { method: 'email' });

            if (document.getElementById('registerForm')) {
                document.getElementById('registerForm').reset();
            }
            if (document.getElementById('previewPseudo')) {
                document.getElementById('previewPseudo').textContent = '@username';
            }

        } catch (error) {
            console.error('❌ Error:', error);

            if (registerBtn) {
                registerBtn.disabled = false;
                registerBtn.innerHTML = originalBtn;
            }

            if (error.code === 'auth/email-already-in-use') {
                showError('Email déjà utilisé');
            } else if (error.code === 'auth/invalid-email') {
                showError('Email invalide');
            } else if (error.code === 'auth/weak-password') {
                showError('Mot de passe trop faible');
            } else {
                showError('Erreur: ' + error.message);
            }

            // Analytics
            gtag('event', 'exception', {
                description: 'register_error_' + error.code,
                fatal: false
            });
        }
    }

    async function handlePhoneRegister(e) {
        e.preventDefault();
        hideMessages();

        const username = document.getElementById('registerUsernamePhone')?.value?.trim().toLowerCase() || '';
        const countryCode = document.getElementById('countryCode')?.value || '+33';
        const phoneNumber = document.getElementById('phoneNumber')?.value?.trim() || '';
        const fullPhone = countryCode + phoneNumber;

        if (!username || !phoneNumber) {
            showError('Veuillez remplir tous les champs');
            return;
        }

        if (!/^[a-zA-Z0-9_]{3,20}$/.test(username)) {
            showError('Pseudo invalide (3-20 caractères)');
            return;
        }

        if (BLACKLIST.includes(username)) {
            showError('Ce pseudo est réservé');
            return;
        }

        const registerBtn = document.getElementById('registerBtn');
        const originalBtn = registerBtn ? registerBtn.innerHTML : '';

        if (registerBtn) {
            registerBtn.disabled = true;
            registerBtn.innerHTML = '<span class="btn-text">Envoi SMS...</span>';
        }

        try {
            const usernameExists = await checkUsernameExists(username);

            if (usernameExists) {
                showError('Ce pseudo est déjà utilisé');
                if (registerBtn) {
                    registerBtn.disabled = false;
                    registerBtn.innerHTML = originalBtn;
                }
                return;
            }

            if (!recaptchaVerifier) {
                recaptchaVerifier = new RecaptchaVerifier(auth, 'recaptcha-container', {
                    'size': 'invisible'
                });
            }

            confirmationResult = await signInWithPhoneNumber(auth, fullPhone, recaptchaVerifier);

            showSuccess('Code envoyé ! Vérifiez vos SMS');

            const verificationSection = document.getElementById('verificationSection');
            if (verificationSection) {
                verificationSection.style.display = 'block';
            }

            startResendTimer();

            if (registerBtn) {
                registerBtn.innerHTML = '<span class="btn-text">Vérifier le code</span>';
            }

            // Analytics
            gtag('event', 'phone_verification_sent');

        } catch (error) {
            console.error('❌ Phone error:', error);

            if (registerBtn) {
                registerBtn.disabled = false;
                registerBtn.innerHTML = originalBtn;
            }

            if (error.code === 'auth/invalid-phone-number') {
                showError('Numéro de téléphone invalide');
            } else if (error.code === 'auth/too-many-requests') {
                showError('Trop de tentatives. Réessayez plus tard');
            } else {
                showError('Erreur: ' + error.message);
            }

            // Analytics
            gtag('event', 'exception', {
                description: 'phone_register_error_' + error.code,
                fatal: false
            });
        }
    }

    async function verifyPhoneCode() {
        const code = document.getElementById('verificationCode')?.value?.trim() || '';

        if (!code || code.length !== 6) {
            showError('Code à 6 chiffres requis');
            return;
        }

        const registerBtn = document.getElementById('registerBtn');
        const originalBtn = registerBtn ? registerBtn.innerHTML : '';

        if (registerBtn) {
            registerBtn.disabled = true;
            registerBtn.innerHTML = '<span class="btn-text">Vérification...</span>';
        }

        try {
            const result = await confirmationResult.confirm(code);
            const user = result.user;

            const username = document.getElementById('registerUsernamePhone')?.value?.trim().toLowerCase() || '';
            const timestamp = new Date().toISOString();
            const link = `https://sis-send.vercel.app/send.html?to=${username}`;
            const defaultPhotoURL = `https://ui-avatars.com/api/?name=${username}&background=667eea&color=fff&size=200`;

            await updateProfile(user, {
                displayName: username,
                photoURL: defaultPhotoURL
            });

            const userData = {
                uid: user.uid,
                username: username,
                phone: user.phoneNumber,
                photoURL: defaultPhotoURL,
                createdAt: timestamp,
                updatedAt: timestamp,
                link: link,
                messageCount: 0,
                viewCount: 0
            };

            // Save to Firestore (background)
            setDoc(doc(db, 'users', user.uid), userData).catch(err => console.log('Firestore error:', err));
            setDoc(doc(db, 'usernames', username), {
                uid: user.uid,
                createdAt: timestamp
            }).catch(err => console.log('Username error:', err));

            // Save to RTDB (background)
            set(dbRef(rtdb, `users/${user.uid}`), {
                uid: user.uid,
                username: username,
                phone: user.phoneNumber,
                photoURL: defaultPhotoURL,
                createdAt: timestamp,
                link: link,
                online: true
            }).catch(err => console.log('RTDB error:', err));

            showSuccess('Inscription réussie ! Redirection...');

            // Analytics
            gtag('event', 'sign_up', { method: 'phone' });

        } catch (error) {
            console.error('❌ Verification error:', error);

            if (registerBtn) {
                registerBtn.disabled = false;
                registerBtn.innerHTML = originalBtn;
            }

            if (error.code === 'auth/invalid-verification-code') {
                showError('Code invalide');
            } else {
                showError('Erreur de vérification');
            }

            // Analytics
            gtag('event', 'exception', {
                description: 'verify_code_error_' + error.code,
                fatal: false
            });
        }
    }

    function startResendTimer() {
        let countdown = 60;
        const timerText = document.getElementById('timerText');
        const countdownEl = document.getElementById('countdown');
        const resendLink = document.getElementById('resendLink');

        if (resendLink) {
            resendLink.classList.add('disabled');
        }

        if (resendTimer) {
            clearInterval(resendTimer);
        }

        resendTimer = setInterval(() => {
            countdown--;
            if (countdownEl) {
                countdownEl.textContent = countdown;
            }

            if (countdown <= 0) {
                clearInterval(resendTimer);
                if (timerText) {
                    timerText.style.display = 'none';
                }
                if (resendLink) {
                    resendLink.classList.remove('disabled');
                    resendLink.style.display = 'inline';
                }
            }
        }, 1000);
    }

    async function handleLogin(e) {
        e.preventDefault();
        hideMessages();

        const emailOrPhone = document.getElementById('loginEmail')?.value?.trim() || '';
        const password = document.getElementById('loginPassword')?.value || '';

        if (!emailOrPhone || !password) {
            showError('Veuillez remplir tous les champs');
            return;
        }

        const loginBtn = document.getElementById('loginBtn');
        const originalBtn = loginBtn ? loginBtn.innerHTML : '';

        if (loginBtn) {
            loginBtn.disabled = true;
            loginBtn.innerHTML = '<span class="btn-text">Connexion...</span>';
        }

        try {
            await signInWithEmailAndPassword(auth, emailOrPhone, password);
            showSuccess('Connexion réussie ! Redirection...');

            // Analytics
            gtag('event', 'login', { method: 'email' });

            if (document.getElementById('loginForm')) {
                document.getElementById('loginForm').reset();
            }

        } catch (error) {
            console.error('❌ Login error:', error);

            if (loginBtn) {
                loginBtn.disabled = false;
                loginBtn.innerHTML = originalBtn;
            }

            if (error.code === 'auth/invalid-credential' || error.code === 'auth/wrong-password') {
                showError('Email ou mot de passe incorrect');
            } else if (error.code === 'auth/user-not-found') {
                showError('Compte introuvable');
            } else if (error.code === 'auth/too-many-requests') {
                showError('Trop de tentatives');
            } else if (error.code === 'auth/invalid-email') {
                showError('Email invalide');
            } else {
                showError('Erreur de connexion');
            }

            // Analytics
            gtag('event', 'exception', {
                description: 'login_error_' + error.code,
                fatal: false
            });
        }
    }

    async function handleLogout() {
        try {
            if (currentUser) {
                await update(dbRef(rtdb, `users/${currentUser.uid}`), {
                    online: false,
                    lastSeen: new Date().toISOString()
                }).catch(err => console.log('RTDB error:', err));
            }

            await signOut(auth);
            console.log('👋 Logout');
            showToast('Déconnexion réussie');

            // Clear cache
            cacheManager.clear();

            // Analytics
            gtag('event', 'logout');

        } catch (error) {
            console.error('❌ Logout error:', error);
            showToast('Erreur de déconnexion');
        }
    }

    // ===== PRESENCE SYSTEM =====
    function setupPresence(uid) {
        const userStatusRef = dbRef(rtdb, `users/${uid}`);

        update(userStatusRef, {
            online: true,
            lastSeen: new Date().toISOString()
        }).catch(err => console.log('Presence error:', err));

        onDisconnect(userStatusRef).update({
            online: false,
            lastSeen: new Date().toISOString()
        });
    }

    // ===== LOAD USER DATA =====
    async function loadUserData() {
        if (!currentUser) {
            throw new Error('No user');
        }

        console.log('📥 Loading user data for:', currentUser.uid);
try {
            const userDoc = await cacheManager.get(
                `user_${currentUser.uid}`,
                async () => {
                    const doc = await getDoc(doc(db, 'users', currentUser.uid));
                    return doc.exists() ? doc.data() : null;
                },
                'users'
            );

            if (userDoc) {
                currentUserData = userDoc;
            } else {
                // Fallback: create from auth
                const username = currentUser.displayName || currentUser.email.split('@')[0];
                currentUserData = {
                    uid: currentUser.uid,
                    username: username,
                    email: currentUser.email,
                    photoURL: currentUser.photoURL || `https://ui-avatars.com/api/?name=${username}&background=667eea&color=fff&size=200`,
                    link: `https://sis-send.vercel.app/send.html?to=${username}`,
                    messageCount: 0,
                    viewCount: 0
                };
            }

            console.log('✅ User data loaded:', currentUserData);

            // Update UI
            updateDashboardUI();

            // Load messages
            await loadRecentMessages();

            // Load stats
            await loadStats();

            // Show dashboard
            showDashboard();

            // Analytics
            gtag('event', 'page_view', {
                page_path: '/dashboard',
                page_title: 'Dashboard'
            });

        } catch (error) {
            console.error('❌ Load user data error:', error);
            throw error;
        }
    }

    function updateDashboardUI() {
        if (!currentUserData) return;

        const elements = {
            usernameDisplay: document.getElementById('usernameDisplay'),
            userAvatar: document.getElementById('userAvatar'),
            userLinkDisplay: document.getElementById('userLinkDisplay'),
            totalMessages: document.getElementById('totalMessages'),
            totalViews: document.getElementById('totalViews'),
            newMessages: document.getElementById('newMessages'),
            messagesBadge: document.getElementById('messagesBadge'),
            notificationBadge: document.getElementById('notificationBadge')
        };

        if (elements.usernameDisplay) {
            elements.usernameDisplay.textContent = `@${currentUserData.username}`;
        }

        if (elements.userAvatar) {
            elements.userAvatar.src = currentUserData.photoURL;
        }

        if (elements.userLinkDisplay) {
            elements.userLinkDisplay.textContent = currentUserData.link;
        }

        if (elements.totalMessages) {
            elements.totalMessages.textContent = currentUserData.messageCount || 0;
        }

        if (elements.totalViews) {
            elements.totalViews.textContent = currentUserData.viewCount || 0;
        }

        if (elements.newMessages) {
            elements.newMessages.textContent = currentUserData.messageCount || 0;
        }

        if (elements.messagesBadge) {
            elements.messagesBadge.textContent = currentUserData.messageCount || 0;
        }

        if (elements.notificationBadge) {
            elements.notificationBadge.textContent = currentUserData.messageCount || 0;
        }
    }

    async function loadRecentMessages() {
        if (!currentUser) return;

        try {
            const messages = await cacheManager.get(
                `messages_${currentUser.uid}`,
                async () => {
                    const q = query(
                        collection(db, 'messages'),
                        where('receiverId', '==', currentUser.uid),
                        orderBy('createdAt', 'desc'),
                        limit(3)
                    );
                    const snapshot = await getDocs(q);
                    return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                },
                'messages'
            );

            const messagesList = document.getElementById('recentMessagesList');
            if (!messagesList) return;

            if (messages.length === 0) {
                messagesList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">📭</div>
                        <p class="empty-state-text">Aucun message pour le moment</p>
                    </div>
                `;
            } else {
                messagesList.innerHTML = messages.map(msg => `
                    <div class="message-preview-card">
                        <div class="message-preview-header">
                            <div class="message-preview-avatar">
                                <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="20" cy="20" r="20" fill="#667eea"/>
                                    <text x="20" y="27" font-size="20" fill="white" text-anchor="middle" font-weight="bold">?</text>
                                </svg>
                            </div>
                            <div>
                                <div class="message-preview-name">Quelqu'un d'anonyme</div>
                                <div class="message-preview-time">${getTimeAgo(msg.createdAt)}</div>
                            </div>
                        </div>
                        <div class="message-preview-text">${sanitizeInput(msg.content)}</div>
                    </div>
                `).join('');
            }
        } catch (error) {
            console.error('❌ Load messages error:', error);
        }
    }

    async function loadStats() {
        if (!currentUser) return;

        try {
            const stats = await cacheManager.get(
                `stats_${currentUser.uid}`,
                async () => {
                    // Get messages from last 7 days
                    const sevenDaysAgo = new Date();
                    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);

                    const q = query(
                        collection(db, 'messages'),
                        where('receiverId', '==', currentUser.uid),
                        where('createdAt', '>=', Timestamp.fromDate(sevenDaysAgo))
                    );

                    const snapshot = await getDocs(q);
                    const messagesByDay = {};

                    snapshot.docs.forEach(doc => {
                        const date = doc.data().createdAt.toDate();
                        const day = date.toLocaleDateString('fr-FR', { weekday: 'short' });

                        if (!messagesByDay[day]) {
                            messagesByDay[day] = 0;
                        }
                        messagesByDay[day]++;
                    });

                    return messagesByDay;
                },
                'stats'
            );

            // Create chart
            createActivityChart(stats);

        } catch (error) {
            console.error('❌ Load stats error:', error);
        }
    }

    function createActivityChart(stats) {
        const canvas = document.getElementById('activityChart');
        if (!canvas) return;

        // ✅ CORRECTION: Utiliser getContext('2d')
        const ctx = canvas.getContext('2d');

        const labels = ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam', 'Dim'];
        const data = labels.map(day => stats[day] || 0);

        if (activityChart) {
            activityChart.destroy();
        }

        activityChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Messages',
                    data: data,
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            stepSize: 1
                        }
                    }
                }
            }
        });
    }

    function showDashboard() {
        console.log('🏠 Showing dashboard');
        hideAllScreens();

        const dashboard = document.getElementById('dashboardContainer');
        if (dashboard) {
            dashboard.style.display = 'block';
            dashboard.classList.remove('hidden');
            dashboard.classList.add('active');
        }
    }

    // ===== SHARE FUNCTIONS =====
    function copyLink() {
        if (!currentUserData) return;

        const link = currentUserData.link;

        if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(link)
                .then(() => {
                    showToast('Lien copié ! 📋');

                    // Analytics
                    gtag('event', 'link_copied', {
                        user_id: currentUser.uid,
                        username: currentUserData.username
                    });
                })
                .catch(err => {
                    console.error('❌ Copy error:', err);
                    fallbackCopy(link);
                });
        } else {
            fallbackCopy(link);
        }
    }

    function fallbackCopy(text) {
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.position = 'fixed';
        textArea.style.left = '-999999px';
        textArea.style.top = '0';
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();

        try {
            document.execCommand('copy');
            showToast('Lien copié ! 📋');

            // Analytics
            gtag('event', 'link_copied', {
                user_id: currentUser.uid,
                username: currentUserData.username,
                method: 'fallback'
            });
        } catch (err) {
            console.error('❌ Fallback copy error:', err);
            showToast('Erreur de copie');
        }

        document.body.removeChild(textArea);
    }

    function shareLink(platform) {
        if (!currentUserData) return;

        const link = currentUserData.link;
        const text = `Envoie-moi un message anonyme sur SIS ! ${link}`;

        let shareUrl = '';

        switch(platform) {
            case 'whatsapp':
                shareUrl = `https://wa.me/?text=${encodeURIComponent(text)}`;
                break;
            case 'instagram':
                copyLink();
                showToast('Collez le lien dans Instagram Stories');
                return;
            case 'snapchat':
                shareUrl = `https://www.snapchat.com/scan?attachmentUrl=${encodeURIComponent(link)}`;
                break;
            case 'twitter':
                shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
                break;
            case 'facebook':
                shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(link)}`;
                break;
            case 'copy':
                copyLink();
                return;
        }

        if (shareUrl) {
            window.open(shareUrl, '_blank', 'noopener,noreferrer');

            // Analytics
            gtag('event', 'share', {
                method: platform,
                item_id: currentUserData.username
            });
        }
    }

    function openShareModal() {
        const modal = document.getElementById('shareModal');
        if (modal) {
            modal.classList.add('active');

            // Analytics
            gtag('event', 'share_modal_open');
        }
    }

    function closeShareModal() {
        const modal = document.getElementById('shareModal');
        if (modal) {
            modal.classList.remove('active');
        }
    }

    // ===== OFFLINE DETECTION =====
    function setupOfflineDetection() {
        const offlineBanner = document.getElementById('offlineBanner');

        window.addEventListener('online', () => {
            if (offlineBanner) {
                offlineBanner.classList.remove('show');
            }
            showToast('Connexion rétablie');
        });

        window.addEventListener('offline', () => {
            if (offlineBanner) {
                offlineBanner.classList.add('show');
            }
        });

        // Check initial state
        if (!navigator.onLine && offlineBanner) {
            offlineBanner.classList.add('show');
        }
    }

    // ===== AUTH STATE LISTENER =====
    function setupAuthListener() {
        onAuthStateChanged(auth, async (user) => {
            console.log('🔐 Auth state:', user ? `✅ ${user.uid}` : '❌ No user');

            if (user) {
                currentUser = user;
                setupPresence(user.uid);

                try {
                    await loadUserData();
                } catch (error) {
                    console.error('❌ Load error:', error);
                    showToast('Erreur de chargement');
                    setTimeout(() => handleLogout(), 2000);
                }
            } else {
                currentUser = null;
                currentUserData = null;

                // Don't show splash on logout
                const onboardingDone = localStorage.getItem('onboardingCompleted');
                if (onboardingDone === 'true') {
                    showAuth();
                } else {
                    // First visit - skip splash and go straight to onboarding
                    showOnboarding();
                }
            }
        });
    }

    // ===== EVENT LISTENERS =====
    function initEventListeners() {
        // Onboarding
        const skipBtn = document.getElementById('skipBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const startBtn = document.getElementById('startBtn');

        if (skipBtn) {
            skipBtn.addEventListener('click', completeOnboarding);
        }

        if (prevBtn) {
            prevBtn.addEventListener('click', () => {
                if (currentSlide > 0) {
                    updateSlide(currentSlide - 1);
                }
            });
        }

        if (nextBtn) {
            nextBtn.addEventListener('click', () => {
                const slides = document.querySelectorAll('.onboarding-slide');
                if (currentSlide < slides.length - 1) {
                    updateSlide(currentSlide + 1);
                }
            });
        }

        if (startBtn) {
            startBtn.addEventListener('click', completeOnboarding);
        }

        document.querySelectorAll('.indicator').forEach((indicator, index) => {
            indicator.addEventListener('click', () => updateSlide(index));
        });

        // Auth tabs
        const loginTab = document.getElementById('loginTab');
        const registerTab = document.getElementById('registerTab');

        if (loginTab) {
            loginTab.addEventListener('click', () => switchAuthTab('login'));
        }

        if (registerTab) {
            registerTab.addEventListener('click', () => switchAuthTab('register'));
        }

        // Register method tabs
        document.querySelectorAll('.method-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                switchRegisterMethod(tab.dataset.method);
            });
        });

        // Forms
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');

        if (loginForm) {
            loginForm.addEventListener('submit', handleLogin);
        }

        if (registerForm) {
            registerForm.addEventListener('submit', (e) => {
                e.preventDefault();

                const activeMethod = document.querySelector('.method-tab.active');
                if (activeMethod && activeMethod.dataset.method === 'phone') {
                    const verificationSection = document.getElementById('verificationSection');
                    if (verificationSection && verificationSection.style.display === 'block') {
                        verifyPhoneCode();
                    } else {
                        handlePhoneRegister(e);
                    }
                } else {
                    handleEmailRegister(e);
                }
            });
        }

        // Username preview
        const registerUsername = document.getElementById('registerUsername');
        const previewPseudo = document.getElementById('previewPseudo');

        if (registerUsername && previewPseudo) {
            registerUsername.addEventListener('input', (e) => {
                const username = e.target.value.trim().toLowerCase();
                previewPseudo.textContent = username ? `@${username}` : '@username';
            });
        }

        const registerUsernamePhone = document.getElementById('registerUsernamePhone');
        const previewPseudoPhone = document.getElementById('previewPseudoPhone');

        if (registerUsernamePhone && previewPseudoPhone) {
            registerUsernamePhone.addEventListener('input', (e) => {
                const username = e.target.value.trim().toLowerCase();
                previewPseudoPhone.textContent = username ? `@${username}` : '@username';
            });
        }

        // Resend code
        const resendLink = document.getElementById('resendLink');
        if (resendLink) {
            resendLink.addEventListener('click', () => {
                if (!resendLink.classList.contains('disabled')) {
                    const phoneRegisterForm = document.getElementById('registerForm');
                    if (phoneRegisterForm) {
                        handlePhoneRegister(new Event('submit'));
                    }
                }
            });
        }

        // Dashboard actions
        const copyLinkBtn = document.getElementById('copyLinkBtn');
        const shareBtn = document.getElementById('shareBtn');
        const shareLinkBtn = document.getElementById('shareLinkBtn');

        if (copyLinkBtn) {
            copyLinkBtn.addEventListener('click', copyLink);
        }

        if (shareBtn) {
            shareBtn.addEventListener('click', openShareModal);
        }

        if (shareLinkBtn) {
            shareLinkBtn.addEventListener('click', openShareModal);
        }

        // Share modal
        const closeShareModal = document.getElementById('closeShareModal');
        if (closeShareModal) {
            closeShareModal.addEventListener('click', closeShareModal);
        }

        document.querySelectorAll('.share-option').forEach(option => {
            option.addEventListener('click', () => {
                const platform = option.dataset.platform;
                shareLink(platform);
                closeShareModal();
            });
        });

        // Modal backdrop
        const shareModal = document.getElementById('shareModal');
        if (shareModal) {
            shareModal.addEventListener('click', (e) => {
                if (e.target === shareModal || e.target.classList.contains('modal-backdrop')) {
                    closeShareModal();
                }
            });
        }

        // Bottom navigation
       document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                const page = item.dataset.page;

                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                item.classList.add('active');

                if (page === 'messages') {
                    window.location.href = 'voir.html';
                } else if (page === 'chat') {
                    window.location.href = 'chatanonyme.html';
                } else if (page === 'feed') {
                    showToast('Feed social - Bientôt disponible');
                } else if (page === 'settings') {
                    if (confirm('Voulez-vous vous déconnecter ?')) {
                        handleLogout();
                    }
                }

                // Analytics
                gtag('event', 'navigation', { page });
            });
        });
    }

    // ===== INITIALIZATION =====
    document.addEventListener('DOMContentLoaded', () => {
        console.log('✅ SIS App Started');

        // Show splash screen
        showSplashScreen();

        // Initialize event listeners
        initEventListeners();

        // Setup offline detection
        setupOfflineDetection();

        // Setup auth listener
        setupAuthListener();

        // PWA installation
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            console.log('✅ Install prompt ready');
            // Could show install button here
        });

        window.addEventListener('appinstalled', () => {
            console.log('✅ App installed');
            showToast('App installée ! 🎉');

            // Analytics
            gtag('event', 'app_installed');
        });
    });

    console.log('🚀 SIS APP LOADED - v1.0.0');
</script>
</body>
</html>
    